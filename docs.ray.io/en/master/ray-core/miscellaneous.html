
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Miscellaneous Topics &#8212; Ray 3.0.0.dev0</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css@digest=1999514e3f237ded88cf.css" rel="stylesheet">
<link href="../_static/styles/pydata-sphinx-theme.css@digest=1999514e3f237ded88cf.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css@digest=5115cc725059bd94278eecd172e13a965bf8f5a9.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/autodoc_pydantic.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/custom.css" />
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/termynal.css" />
    <link rel="stylesheet" type="text/css" href="../_static/tabs.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css" />
    <link rel="stylesheet" type="text/css" href="../../../_/static/css/badge_only.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js@digest=1999514e3f237ded88cf">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/js/versionwarning.js"></script>
    <script src="../_static/togglebutton.js"></script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
    <script defer="defer" src="../_static/js/docsearch.js"></script>
    <script src="../_static/js/rate-the-docs.es.min.js"></script>
    <script defer="defer" src="../_static/js/termynal.js"></script>
    <script defer="defer" src="../_static/js/custom.js"></script>
    <script defer="defer" src="../_static/js/top-navigation.js"></script>
    <script src="../_static/js/tags.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js@digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/design-tabs.js"></script>
    <script async="async" src="../../../_/static/javascript/readthedocs-doc-embed.js"></script>
    <link rel="canonical" href="https://docs.ray.io/en/latest/ray-core/miscellaneous.html" />
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Authenticating Remote URIs in runtime_env" href="runtime_env_auth.html" />
    <link rel="prev" title="Lazy Computation Graphs with the Ray DAG API" href="ray-dag.html" />

<!-- Fathom - beautiful, simple website analytics -->
<script src="https://deer.ray.io/script.js" data-site="WYYANYOS" defer></script>
<!-- / Fathom -->

<script async src="https://www.googletagmanager.com/gtag/js?id=UA-110413294-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-110413294-1');
</script>

<script
  src="https://widget.kapa.ai/kapa-widget.bundle.js"
  data-website-id="18a8c339-4ec5-43c8-8182-db3f2bc8c6b6"
  data-project-name="Ray"
  data-project-color="#2C2C2C"
  data-project-logo="https://global.discourse-cdn.com/business7/uploads/ray/original/1X/8f4dcb72f7cd34e2a332d548bd65860994bc8ff1.png"
></script>

<script>
(function(apiKey){
    (function(p,e,n,d,o){var v,w,x,y,z;o=p[d]=p[d]||{};o._q=o._q||[];
    v=['initialize','identify','updateOptions','pageLoad','track'];for(w=0,x=v.length;w<x;++w)(function(m){
        o[m]=o[m]||function(){o._q[m===v[0]?'unshift':'push']([m].concat([].slice.call(arguments,0)));};})(v[w]);
        y=e.createElement(n);y.async=!0;y.src='https://cdn.pendo.io/agent/static/'+apiKey+'/pendo.js';
        z=e.getElementsByTagName(n)[0];z.parentNode.insertBefore(y,z);})(window,document,'script','pendo');

        pendo.initialize({
            visitor: {
                id: 'VISITOR-UNIQUE-ID'
            },
            account: {
                id: 'ACCOUNT-UNIQUE-ID'
            }
        });
})('f89fa48a-6dd7-4d7c-67cf-a8051ed891f2');
</script>



  
<!-- RTD Extra Head -->

<link rel="stylesheet" href="../../../_/static/css/readthedocs-doc-embed.css" type="text/css" />

<script type="application/json" id="READTHEDOCS_DATA">{"ad_free": true, "api_host": "https://readthedocs.org", "builder": "sphinx", "canonical_url": null, "docroot": "/doc/source/", "features": {"docsearch_disabled": false}, "global_analytics_code": "UA-17997319-1", "language": "en", "page": "ray-core/miscellaneous", "programming_language": "py", "project": "ray", "proxied_api_host": "/_", "source_suffix": ".rst", "subprojects": {}, "theme": "sphinx_book_theme", "user_analytics_code": "", "version": "master"}</script>

<!--
Using this variable directly instead of using `JSON.parse` is deprecated.
The READTHEDOCS_DATA global variable will be removed in the future.
-->
<script type="text/javascript">
READTHEDOCS_DATA = JSON.parse(document.getElementById('READTHEDOCS_DATA').innerHTML);
</script>

<script type="text/javascript" src="../../../_/static/javascript/readthedocs-analytics.js" async="async"></script>

<!-- end RTD <extrahead> -->
</head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"><div class='topnav'></div></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
      
      
      <h1 class="site-logo" id="site-title">Ray 3.0.0.dev0</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main Navigation">
    <div class="bd-toc-item active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../index.html">
                    Welcome to Ray!
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Ray
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../ray-overview/index.html">
   Overview
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../ray-overview/getting-started.html">
   Getting Started
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../ray-more-libs/installation.html">
   Installation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../ray-overview/use-cases.html">
   Use Cases
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../ray-overview/examples.html">
   Example Gallery
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../ray-overview/ray-libraries.html">
   Ecosystem
  </a>
 </li>
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="walkthrough.html">
   Ray Core
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2">
    <a class="reference internal" href="key-concepts.html">
     Key Concepts
    </a>
   </li>
   <li class="toctree-l2 current active has-children">
    <a class="reference internal" href="user-guide.html">
     User Guides
    </a>
    <input checked="" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
    <label for="toctree-checkbox-2">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul class="current">
     <li class="toctree-l3">
      <a class="reference internal" href="tasks.html">
       Tasks
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../ray-more-libs/actors.html">
       Actors
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="objects.html">
       Objects
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="handling-dependencies.html">
       Environment Dependencies
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="scheduling/index.html">
       Scheduling
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="fault-tolerance.html">
       Fault Tolerance
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="patterns/index.html">
       Design Patterns &amp; Anti-patterns
      </a>
     </li>
     <li class="toctree-l3 current active has-children">
      <a class="reference internal" href="advanced-topics.html">
       Advanced Topics
      </a>
      <input checked="" class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
      <label for="toctree-checkbox-3">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul class="current">
       <li class="toctree-l4">
        <a class="reference internal" href="tips-for-first-time.html">
         Tips for first-time users
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="starting-ray.html">
         Starting Ray
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="namespaces.html">
         Using Namespaces
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="cross-language.html">
         Cross-Language Programming
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="using-ray-with-jupyter.html">
         Working with Jupyter Notebooks &amp; JupyterLab
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="ray-dag.html">
         Lazy Computation Graphs with the Ray DAG API
        </a>
       </li>
       <li class="toctree-l4 current active">
        <a class="current reference internal" href="miscellaneous.html#">
         Miscellaneous Topics
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="runtime_env_auth.html">
         Authenticating Remote URIs in runtime_env
        </a>
       </li>
      </ul>
     </li>
    </ul>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="examples/overview.html">
     Examples
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="api/index.html">
     Ray Core API
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../ray-air/getting-started.html">
   Ray AI Runtime (AIR)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../data/data.html">
   Ray Data
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../train/train.html">
   Ray Train
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../tune.html">
   Ray Tune
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../serve/index.html">
   Ray Serve
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../rllib/index.html">
   Ray RLlib
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../ray-more-libs/index.html">
   More Libraries
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="cluster/index.html">
   Ray Clusters
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../ray-observability/index.html">
   Monitoring and Debugging
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../ray-references/api.html">
   References
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../ray-contribute/stability.html">
   Developer Guides
  </a>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Theme by the <a href="https://ebp.jupyterbook.org">Executable Book Project</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-repository-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Source repositories">
      <i class="fab fa-github"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://github.com/ray-project/ray"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Source repository"
>
  

<span class="headerbtn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="headerbtn__text-container">repository</span>
</a>

      </li>
      
      <li>
        <a href="https://github.com/ray-project/ray/issues/new?title=Issue%20on%20page%20%2Fray-core/miscellaneous.html&body=Your%20issue%20content%20here."
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Open an issue"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="headerbtn__text-container">open issue</span>
</a>

      </li>
      
      <li>
        <a href="https://github.com/ray-project/ray/edit/master/doc/source/ray-core/miscellaneous.rst"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Edit this page"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-pencil-alt"></i>
  </span>
<span class="headerbtn__text-container">suggest edit</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="../_sources/ray-core/miscellaneous.rst.txt"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.rst</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="miscellaneous.html#dynamic-remote-parameters">
   Dynamic Remote Parameters
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="miscellaneous.html#overloaded-functions">
   Overloaded Functions
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="miscellaneous.html#inspecting-cluster-state">
   Inspecting Cluster State
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="miscellaneous.html#node-information">
     Node Information
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="miscellaneous.html#resource-information">
     Resource Information
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="miscellaneous.html#running-large-ray-clusters">
   Running Large Ray Clusters
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="miscellaneous.html#tuning-operating-system-settings">
     Tuning Operating System Settings
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="miscellaneous.html#maximum-open-files">
       Maximum open files
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="miscellaneous.html#arp-cache">
       ARP cache
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="miscellaneous.html#tuning-ray-settings">
     Tuning Ray Settings
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="miscellaneous.html#resource-broadcasting">
       Resource broadcasting
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="miscellaneous.html#benchmark">
     Benchmark
    </a>
   </li>
  </ul>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Miscellaneous Topics</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="miscellaneous.html#dynamic-remote-parameters">
   Dynamic Remote Parameters
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="miscellaneous.html#overloaded-functions">
   Overloaded Functions
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="miscellaneous.html#inspecting-cluster-state">
   Inspecting Cluster State
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="miscellaneous.html#node-information">
     Node Information
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="miscellaneous.html#resource-information">
     Resource Information
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="miscellaneous.html#running-large-ray-clusters">
   Running Large Ray Clusters
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="miscellaneous.html#tuning-operating-system-settings">
     Tuning Operating System Settings
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="miscellaneous.html#maximum-open-files">
       Maximum open files
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="miscellaneous.html#arp-cache">
       ARP cache
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="miscellaneous.html#tuning-ray-settings">
     Tuning Ray Settings
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="miscellaneous.html#resource-broadcasting">
       Resource broadcasting
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="miscellaneous.html#benchmark">
     Benchmark
    </a>
   </li>
  </ul>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section id="miscellaneous-topics">
<h1>Miscellaneous Topics<a class="headerlink" href="miscellaneous.html#miscellaneous-topics" title="Permalink to this headline">#</a></h1>
<p>This page will cover some miscellaneous topics in Ray.</p>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="miscellaneous.html#dynamic-remote-parameters" id="id2">Dynamic Remote Parameters</a></p></li>
<li><p><a class="reference internal" href="miscellaneous.html#overloaded-functions" id="id3">Overloaded Functions</a></p></li>
<li><p><a class="reference internal" href="miscellaneous.html#inspecting-cluster-state" id="id4">Inspecting Cluster State</a></p>
<ul>
<li><p><a class="reference internal" href="miscellaneous.html#node-information" id="id5">Node Information</a></p></li>
<li><p><a class="reference internal" href="miscellaneous.html#resource-information" id="id6">Resource Information</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="miscellaneous.html#running-large-ray-clusters" id="id7">Running Large Ray Clusters</a></p>
<ul>
<li><p><a class="reference internal" href="miscellaneous.html#tuning-operating-system-settings" id="id8">Tuning Operating System Settings</a></p>
<ul>
<li><p><a class="reference internal" href="miscellaneous.html#maximum-open-files" id="id9">Maximum open files</a></p></li>
<li><p><a class="reference internal" href="miscellaneous.html#arp-cache" id="id10">ARP cache</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="miscellaneous.html#tuning-ray-settings" id="id11">Tuning Ray Settings</a></p>
<ul>
<li><p><a class="reference internal" href="miscellaneous.html#resource-broadcasting" id="id12">Resource broadcasting</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="miscellaneous.html#benchmark" id="id13">Benchmark</a></p></li>
</ul>
</li>
</ul>
</div>
<section id="dynamic-remote-parameters">
<h2><a class="toc-backref" href="miscellaneous.html#id2">Dynamic Remote Parameters</a><a class="headerlink" href="miscellaneous.html#dynamic-remote-parameters" title="Permalink to this headline">#</a></h2>
<p>You can dynamically adjust resource requirements or return values of <code class="docutils literal notranslate"><span class="pre">ray.remote</span></code> during execution with <code class="docutils literal notranslate"><span class="pre">.options</span></code>.</p>
<p>For example, here we instantiate many copies of the same actor with varying resource requirements. Note that to create these actors successfully, Ray will need to be started with sufficient CPU resources and the relevant custom resources:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">ray</span>

<span class="nd">@ray</span><span class="o">.</span><span class="n">remote</span><span class="p">(</span><span class="n">num_cpus</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">Counter</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="k">def</span> <span class="nf">increment</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">value</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">value</span>

<span class="n">a1</span> <span class="o">=</span> <span class="n">Counter</span><span class="o">.</span><span class="n">options</span><span class="p">(</span><span class="n">num_cpus</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">resources</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;Custom1&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">})</span><span class="o">.</span><span class="n">remote</span><span class="p">()</span>
<span class="n">a2</span> <span class="o">=</span> <span class="n">Counter</span><span class="o">.</span><span class="n">options</span><span class="p">(</span><span class="n">num_cpus</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">resources</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;Custom2&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">})</span><span class="o">.</span><span class="n">remote</span><span class="p">()</span>
<span class="n">a3</span> <span class="o">=</span> <span class="n">Counter</span><span class="o">.</span><span class="n">options</span><span class="p">(</span><span class="n">num_cpus</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">resources</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;Custom3&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">})</span><span class="o">.</span><span class="n">remote</span><span class="p">()</span>
</pre></div>
</div>
<p>You can specify different resource requirements for tasks (but not for actor methods):</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">ray</span><span class="o">.</span><span class="n">init</span><span class="p">(</span><span class="n">num_cpus</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">num_gpus</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="nd">@ray</span><span class="o">.</span><span class="n">remote</span>
<span class="k">def</span> <span class="nf">g</span><span class="p">():</span>
    <span class="k">return</span> <span class="n">ray</span><span class="o">.</span><span class="n">get_gpu_ids</span><span class="p">()</span>

<span class="n">object_gpu_ids</span> <span class="o">=</span> <span class="n">g</span><span class="o">.</span><span class="n">remote</span><span class="p">()</span>
<span class="k">assert</span> <span class="n">ray</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">object_gpu_ids</span><span class="p">)</span> <span class="o">==</span> <span class="p">[]</span>

<span class="n">dynamic_object_gpu_ids</span> <span class="o">=</span> <span class="n">g</span><span class="o">.</span><span class="n">options</span><span class="p">(</span><span class="n">num_cpus</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">num_gpus</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">remote</span><span class="p">()</span>
<span class="k">assert</span> <span class="n">ray</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">dynamic_object_gpu_ids</span><span class="p">)</span> <span class="o">==</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
<p>And vary the number of return values for tasks (and actor methods too):</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="nd">@ray</span><span class="o">.</span><span class="n">remote</span>
<span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">))</span>

<span class="n">id1</span><span class="p">,</span> <span class="n">id2</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">options</span><span class="p">(</span><span class="n">num_returns</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">remote</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">ray</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">id1</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span>
<span class="k">assert</span> <span class="n">ray</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">id2</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
</pre></div>
</div>
<p>And specify a name for tasks (and actor methods too) at task submission time:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">setproctitle</span>

<span class="nd">@ray</span><span class="o">.</span><span class="n">remote</span>
<span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
   <span class="k">assert</span> <span class="n">setproctitle</span><span class="o">.</span><span class="n">getproctitle</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;ray::special_f&quot;</span>
   <span class="k">return</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span>

<span class="n">obj</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">options</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;special_f&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">remote</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">ray</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span> <span class="o">==</span> <span class="mi">4</span>
</pre></div>
</div>
<p>This name will appear as the task name in the machine view of the dashboard, will appear
as the worker process name when this task is executing (if a Python task), and will
appear as the task name in the logs.</p>
<img alt="../_images/task_name_dashboard.png" src="../_images/task_name_dashboard.png" />
</section>
<section id="overloaded-functions">
<h2><a class="toc-backref" href="miscellaneous.html#id3">Overloaded Functions</a><a class="headerlink" href="miscellaneous.html#overloaded-functions" title="Permalink to this headline">#</a></h2>
<p>Ray Java API supports calling overloaded java functions remotely. However, due to the limitation of Java compiler type inference, one must explicitly cast the method reference to the correct function type. For example, consider the following.</p>
<p>Overloaded normal task call:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">class</span> <span class="nc">MyRayApp</span><span class="w"> </span><span class="p">{</span><span class="w"></span>

<span class="w">  </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">overloadFunction</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>

<span class="w">  </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">overloadFunction</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">x</span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="c1">// Invoke overloaded functions.</span><span class="w"></span>
<span class="n">Assert</span><span class="p">.</span><span class="na">assertEquals</span><span class="p">((</span><span class="kt">int</span><span class="p">)</span><span class="w"> </span><span class="n">Ray</span><span class="p">.</span><span class="na">task</span><span class="p">((</span><span class="n">RayFunc0</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="p">)</span><span class="w"> </span><span class="n">MyRayApp</span><span class="p">::</span><span class="n">overloadFunction</span><span class="p">).</span><span class="na">remote</span><span class="p">().</span><span class="na">get</span><span class="p">(),</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span><span class="w"></span>
<span class="n">Assert</span><span class="p">.</span><span class="na">assertEquals</span><span class="p">((</span><span class="kt">int</span><span class="p">)</span><span class="w"> </span><span class="n">Ray</span><span class="p">.</span><span class="na">task</span><span class="p">((</span><span class="n">RayFunc1</span><span class="o">&lt;</span><span class="n">Integer</span><span class="p">,</span><span class="w"> </span><span class="n">Integer</span><span class="o">&gt;</span><span class="p">)</span><span class="w"> </span><span class="n">MyRayApp</span><span class="p">::</span><span class="n">overloadFunction</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">).</span><span class="na">remote</span><span class="p">().</span><span class="na">get</span><span class="p">(),</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
<p>Overloaded actor task call:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Counter</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="kd">protected</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>

<span class="w">  </span><span class="kd">public</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">increment</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="na">value</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">value</span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">class</span> <span class="nc">CounterOverloaded</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">Counter</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="kd">public</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">increment</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">diff</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="kd">super</span><span class="p">.</span><span class="na">value</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">diff</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="kd">super</span><span class="p">.</span><span class="na">value</span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>

<span class="w">  </span><span class="kd">public</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">increment</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">diff1</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">diff2</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="kd">super</span><span class="p">.</span><span class="na">value</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">diff1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">diff2</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="kd">super</span><span class="p">.</span><span class="na">value</span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">ActorHandle</span><span class="o">&lt;</span><span class="n">CounterOverloaded</span><span class="o">&gt;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Ray</span><span class="p">.</span><span class="na">actor</span><span class="p">(</span><span class="n">CounterOverloaded</span><span class="p">::</span><span class="k">new</span><span class="p">).</span><span class="na">remote</span><span class="p">();</span><span class="w"></span>
<span class="c1">// Call an overloaded actor method by super class method reference.</span><span class="w"></span>
<span class="n">Assert</span><span class="p">.</span><span class="na">assertEquals</span><span class="p">((</span><span class="kt">int</span><span class="p">)</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="na">task</span><span class="p">(</span><span class="n">Counter</span><span class="p">::</span><span class="n">increment</span><span class="p">).</span><span class="na">remote</span><span class="p">().</span><span class="na">get</span><span class="p">(),</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span><span class="w"></span>
<span class="c1">// Call an overloaded actor method, cast method reference first.</span><span class="w"></span>
<span class="n">a</span><span class="p">.</span><span class="na">task</span><span class="p">((</span><span class="n">RayFunc1</span><span class="o">&lt;</span><span class="n">CounterOverloaded</span><span class="p">,</span><span class="w"> </span><span class="n">Integer</span><span class="o">&gt;</span><span class="p">)</span><span class="w"> </span><span class="n">CounterOverloaded</span><span class="p">::</span><span class="n">increment</span><span class="p">).</span><span class="na">remote</span><span class="p">();</span><span class="w"></span>
<span class="n">a</span><span class="p">.</span><span class="na">task</span><span class="p">((</span><span class="n">RayFunc2</span><span class="o">&lt;</span><span class="n">CounterOverloaded</span><span class="p">,</span><span class="w"> </span><span class="n">Integer</span><span class="p">,</span><span class="w"> </span><span class="n">Integer</span><span class="o">&gt;</span><span class="p">)</span><span class="w"> </span><span class="n">CounterOverloaded</span><span class="p">::</span><span class="n">increment</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">).</span><span class="na">remote</span><span class="p">();</span><span class="w"></span>
<span class="n">a</span><span class="p">.</span><span class="na">task</span><span class="p">((</span><span class="n">RayFunc3</span><span class="o">&lt;</span><span class="n">CounterOverloaded</span><span class="p">,</span><span class="w"> </span><span class="n">Integer</span><span class="p">,</span><span class="w"> </span><span class="n">Integer</span><span class="p">,</span><span class="w"> </span><span class="n">Integer</span><span class="o">&gt;</span><span class="p">)</span><span class="w"> </span><span class="n">CounterOverloaded</span><span class="p">::</span><span class="n">increment</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">).</span><span class="na">remote</span><span class="p">();</span><span class="w"></span>
<span class="n">Assert</span><span class="p">.</span><span class="na">assertEquals</span><span class="p">((</span><span class="kt">int</span><span class="p">)</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="na">task</span><span class="p">(</span><span class="n">Counter</span><span class="p">::</span><span class="n">increment</span><span class="p">).</span><span class="na">remote</span><span class="p">().</span><span class="na">get</span><span class="p">(),</span><span class="w"> </span><span class="mi">33</span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="inspecting-cluster-state">
<h2><a class="toc-backref" href="miscellaneous.html#id4">Inspecting Cluster State</a><a class="headerlink" href="miscellaneous.html#inspecting-cluster-state" title="Permalink to this headline">#</a></h2>
<p>Applications written on top of Ray will often want to have some information
or diagnostics about the cluster. Some common questions include:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>How many nodes are in my autoscaling cluster?</p></li>
<li><p>What resources are currently available in my cluster, both used and total?</p></li>
<li><p>What are the objects currently in my cluster?</p></li>
</ol>
</div></blockquote>
<p>For this, you can use the global state API.</p>
<section id="node-information">
<h3><a class="toc-backref" href="miscellaneous.html#id5">Node Information</a><a class="headerlink" href="miscellaneous.html#node-information" title="Permalink to this headline">#</a></h3>
<p>To get information about the current nodes in your cluster, you can use <code class="docutils literal notranslate"><span class="pre">ray.nodes()</span></code>:</p>
<dl class="py function">
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">ray.</span></span><span class="sig-name descname"><span class="pre">nodes</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ray/_private/state.html#nodes"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>Get a list of the nodes in the cluster (for debugging only).</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Information about the Ray clients in the cluster.</p>
</dd>
</dl>
<p><strong>DeveloperAPI:</strong> This API may change across minor Ray releases.</p>
</dd></dl>

<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">ray</span>

<span class="n">ray</span><span class="o">.</span><span class="n">init</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ray</span><span class="o">.</span><span class="n">nodes</span><span class="p">())</span>
</pre></div>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>  [{&#39;NodeID&#39;: &#39;2691a0c1aed6f45e262b2372baf58871734332d7&#39;,
    &#39;Alive&#39;: True,
    &#39;NodeManagerAddress&#39;: &#39;192.168.1.82&#39;,
    &#39;NodeManagerHostname&#39;: &#39;host-MBP.attlocal.net&#39;,
    &#39;NodeManagerPort&#39;: 58472,
    &#39;ObjectManagerPort&#39;: 52383,
    &#39;ObjectStoreSocketName&#39;: &#39;/tmp/ray/session_2020-08-04_11-00-17_114725_17883/sockets/plasma_store&#39;,
    &#39;RayletSocketName&#39;: &#39;/tmp/ray/session_2020-08-04_11-00-17_114725_17883/sockets/raylet&#39;,
    &#39;MetricsExportPort&#39;: 64860,
    &#39;alive&#39;: True,
    &#39;Resources&#39;: {&#39;CPU&#39;: 16.0, &#39;memory&#39;: 100.0, &#39;object_store_memory&#39;: 34.0, &#39;node:192.168.1.82&#39;: 1.0}}]
</pre></div>
</div>
<p>The above information includes:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">NodeID</span></code>: A unique identifier for the raylet.</p></li>
<li><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">alive</span></code>: Whether the node is still alive.</p></li>
<li><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">NodeManagerAddress</span></code>: PrivateIP of the node that the raylet is on.</p></li>
<li><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">Resources</span></code>: The total resource capacity on the node.</p></li>
<li><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">MetricsExportPort</span></code>: The port number at which metrics are exposed to through a <a class="reference external" href="https://docs.ray.io/en/master/ray-core/ray-metrics.html">Prometheus endpoint</a>.</p></li>
</ul>
</div></blockquote>
</section>
<section id="resource-information">
<h3><a class="toc-backref" href="miscellaneous.html#id6">Resource Information</a><a class="headerlink" href="miscellaneous.html#resource-information" title="Permalink to this headline">#</a></h3>
<p>To get information about the current total resource capacity of your cluster, you can use <code class="docutils literal notranslate"><span class="pre">ray.cluster_resources()</span></code>.</p>
<dl class="py function">
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">ray.</span></span><span class="sig-name descname"><span class="pre">cluster_resources</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ray/_private/state.html#cluster_resources"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>Get the current total cluster resources.</p>
<p>Note that this information can grow stale as nodes are added to or removed
from the cluster.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><dl class="simple">
<dt>A dictionary mapping resource name to the total quantity of that</dt><dd><p>resource in the cluster.</p>
</dd>
</dl>
</p>
</dd>
</dl>
<p><strong>DeveloperAPI:</strong> This API may change across minor Ray releases.</p>
</dd></dl>

<p>To get information about the current available resource capacity of your cluster, you can use <code class="docutils literal notranslate"><span class="pre">ray.available_resources()</span></code>.</p>
<dl class="py function">
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">ray.</span></span><span class="sig-name descname"><span class="pre">available_resources</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ray/_private/state.html#available_resources"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>Get the current available cluster resources.</p>
<p>This is different from <a class="reference internal" href="api/doc/ray.cluster_resources.html#ray.cluster_resources" title="ray.cluster_resources"><code class="xref py py-obj docutils literal notranslate"><span class="pre">cluster_resources</span></code></a> in that this will return idle
(available) resources rather than total resources.</p>
<p>Note that this information can grow stale as tasks start and finish.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><dl class="simple">
<dt>A dictionary mapping resource name to the total quantity of that</dt><dd><p>resource in the cluster.</p>
</dd>
</dl>
</p>
</dd>
</dl>
<p><strong>DeveloperAPI:</strong> This API may change across minor Ray releases.</p>
</dd></dl>

</section>
</section>
<section id="running-large-ray-clusters">
<h2><a class="toc-backref" href="miscellaneous.html#id7">Running Large Ray Clusters</a><a class="headerlink" href="miscellaneous.html#running-large-ray-clusters" title="Permalink to this headline">#</a></h2>
<p>Here are some tips to run Ray with more than 1k nodes. When running Ray with such
a large number of nodes, several system settings may need to be tuned to enable
communication between such a large number of machines.</p>
<section id="tuning-operating-system-settings">
<h3><a class="toc-backref" href="miscellaneous.html#id8">Tuning Operating System Settings</a><a class="headerlink" href="miscellaneous.html#tuning-operating-system-settings" title="Permalink to this headline">#</a></h3>
<p>Because all nodes and workers connect to the GCS, many network connections will
be created and the operating system has to support that number of connections.</p>
<section id="maximum-open-files">
<h4><a class="toc-backref" href="miscellaneous.html#id9">Maximum open files</a><a class="headerlink" href="miscellaneous.html#maximum-open-files" title="Permalink to this headline">#</a></h4>
<p>The OS has to be configured to support opening many TCP connections since every
worker and raylet connects to the GCS. In POSIX systems, the current limit can
be checked by <code class="docutils literal notranslate"><span class="pre">ulimit</span> <span class="pre">-n</span></code> and if it’s small, it should be increased according to
the OS manual.</p>
</section>
<section id="arp-cache">
<h4><a class="toc-backref" href="miscellaneous.html#id10">ARP cache</a><a class="headerlink" href="miscellaneous.html#arp-cache" title="Permalink to this headline">#</a></h4>
<p>Another thing that needs to be configured is the ARP cache. In a large cluster,
all the worker nodes connect to the head node, which adds a lot of entries to
the ARP table. Ensure that the ARP cache size is large enough to handle this
many nodes.
Failure to do this will result in the head node hanging. When this happens,
<code class="docutils literal notranslate"><span class="pre">dmesg</span></code> will show errors like <code class="docutils literal notranslate"><span class="pre">neighbor</span> <span class="pre">table</span> <span class="pre">overflow</span> <span class="pre">message</span></code>.</p>
<p>In Ubuntu, the ARP cache size can be tuned in <code class="docutils literal notranslate"><span class="pre">/etc/sysctl.conf</span></code> by increasing
the value of <code class="docutils literal notranslate"><span class="pre">net.ipv4.neigh.default.gc_thresh1</span></code> - <code class="docutils literal notranslate"><span class="pre">net.ipv4.neigh.default.gc_thresh3</span></code>.
For more details, please refer to the OS manual.</p>
</section>
</section>
<section id="tuning-ray-settings">
<h3><a class="toc-backref" href="miscellaneous.html#id11">Tuning Ray Settings</a><a class="headerlink" href="miscellaneous.html#tuning-ray-settings" title="Permalink to this headline">#</a></h3>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>There is an ongoing <a class="reference external" href="https://github.com/ray-project/ray/projects/15">project</a> focusing on
improving Ray’s scalability and stability. Feel free to share your thoughts and use cases.</p>
</div>
<p>To run a large cluster, several parameters need to be tuned in Ray.</p>
<section id="resource-broadcasting">
<h4><a class="toc-backref" href="miscellaneous.html#id12">Resource broadcasting</a><a class="headerlink" href="miscellaneous.html#resource-broadcasting" title="Permalink to this headline">#</a></h4>
<p>In Ray 2.3+, lightweight resource broadcasting is supported as an experimental feature.
Turning it on can significantly reduce GCS load and thus
improve its overall stability and scalability. To turn it on, this OS environment
should be set: <code class="docutils literal notranslate"><span class="pre">RAY_use_ray_syncer=true</span></code>. This feature will be turned on by
default in 2.4+.</p>
</section>
</section>
<section id="benchmark">
<h3><a class="toc-backref" href="miscellaneous.html#id13">Benchmark</a><a class="headerlink" href="miscellaneous.html#benchmark" title="Permalink to this headline">#</a></h3>
<p>The machine setup:</p>
<ul class="simple">
<li><p>1 head node: m5.4xlarge (16 vCPUs/64GB mem)</p></li>
<li><p>2000 worker nodes: m5.large (2 vCPUs/8GB mem)</p></li>
</ul>
<p>The OS setup:</p>
<ul class="simple">
<li><p>Set the maximum number of opening files to 1048576</p></li>
<li><dl class="simple">
<dt>Increase the ARP cache size:</dt><dd><ul>
<li><p><code class="docutils literal notranslate"><span class="pre">net.ipv4.neigh.default.gc_thresh1=2048</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">net.ipv4.neigh.default.gc_thresh2=4096</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">net.ipv4.neigh.default.gc_thresh3=8192</span></code></p></li>
</ul>
</dd>
</dl>
</li>
</ul>
<p>The Ray setup:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">RAY_use_ray_syncer=true</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">RAY_event_stats=false</span></code></p></li>
</ul>
<p>Test workload:</p>
<ul class="simple">
<li><p>Test script: <a class="reference external" href="https://github.com/ray-project/ray/blob/master/release/benchmarks/distributed/many_nodes_tests/actor_test.py">code</a></p></li>
</ul>
<table class="table" id="id1">
<caption><span class="caption-text">Benchmark result</span><a class="headerlink" href="miscellaneous.html#id1" title="Permalink to this table">#</a></caption>
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Number of actors</p></th>
<th class="head"><p>Actor launch time</p></th>
<th class="head"><p>Actor ready time</p></th>
<th class="head"><p>Total time</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>20k (10 actors / node)</p></td>
<td><p>14.5s</p></td>
<td><p>136.1s</p></td>
<td><p>150.7s</p></td>
</tr>
</tbody>
</table>
</section>
</section>
</section>


              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="ray-dag.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Lazy Computation Graphs with the Ray DAG API</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="runtime_env_auth.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Authenticating Remote URIs in runtime_env</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By The Ray Team<br/>
  
      &copy; Copyright 2023, The Ray Team.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/pydata-sphinx-theme.js@digest=1999514e3f237ded88cf"></script>


  </body>
</html>