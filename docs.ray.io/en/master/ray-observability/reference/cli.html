
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>State CLI &#8212; Ray 3.0.0.dev0</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css@digest=1999514e3f237ded88cf.css" rel="stylesheet">
<link href="../../_static/styles/pydata-sphinx-theme.css@digest=1999514e3f237ded88cf.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" href="../../_static/styles/sphinx-book-theme.css@digest=5115cc725059bd94278eecd172e13a965bf8f5a9.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/autodoc_pydantic.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/custom.css" />
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/termynal.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/tabs.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css" />
    <link rel="stylesheet" type="text/css" href="../../../../_/static/css/badge_only.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js@digest=1999514e3f237ded88cf">

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script src="../../_static/js/versionwarning.js"></script>
    <script src="../../_static/togglebutton.js"></script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
    <script defer="defer" src="../../_static/js/docsearch.js"></script>
    <script src="../../_static/js/rate-the-docs.es.min.js"></script>
    <script defer="defer" src="../../_static/js/termynal.js"></script>
    <script defer="defer" src="../../_static/js/custom.js"></script>
    <script defer="defer" src="../../_static/js/top-navigation.js"></script>
    <script src="../../_static/js/tags.js"></script>
    <script src="../../_static/scripts/sphinx-book-theme.js@digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../../_static/design-tabs.js"></script>
    <script async="async" src="../../../../_/static/javascript/readthedocs-doc-embed.js"></script>
    <link rel="canonical" href="https://docs.ray.io/en/latest/ray-observability/reference/cli.html" />
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="State API" href="api.html" />
    <link rel="prev" title="Ray Core CLI" href="../../ray-core/api/cli.html" />

<!-- Fathom - beautiful, simple website analytics -->
<script src="https://deer.ray.io/script.js" data-site="WYYANYOS" defer></script>
<!-- / Fathom -->

<script async src="https://www.googletagmanager.com/gtag/js?id=UA-110413294-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-110413294-1');
</script>

<script
  src="https://widget.kapa.ai/kapa-widget.bundle.js"
  data-website-id="18a8c339-4ec5-43c8-8182-db3f2bc8c6b6"
  data-project-name="Ray"
  data-project-color="#2C2C2C"
  data-project-logo="https://global.discourse-cdn.com/business7/uploads/ray/original/1X/8f4dcb72f7cd34e2a332d548bd65860994bc8ff1.png"
></script>

<script>
(function(apiKey){
    (function(p,e,n,d,o){var v,w,x,y,z;o=p[d]=p[d]||{};o._q=o._q||[];
    v=['initialize','identify','updateOptions','pageLoad','track'];for(w=0,x=v.length;w<x;++w)(function(m){
        o[m]=o[m]||function(){o._q[m===v[0]?'unshift':'push']([m].concat([].slice.call(arguments,0)));};})(v[w]);
        y=e.createElement(n);y.async=!0;y.src='https://cdn.pendo.io/agent/static/'+apiKey+'/pendo.js';
        z=e.getElementsByTagName(n)[0];z.parentNode.insertBefore(y,z);})(window,document,'script','pendo');

        pendo.initialize({
            visitor: {
                id: 'VISITOR-UNIQUE-ID'
            },
            account: {
                id: 'ACCOUNT-UNIQUE-ID'
            }
        });
})('f89fa48a-6dd7-4d7c-67cf-a8051ed891f2');
</script>



  
<!-- RTD Extra Head -->

<link rel="stylesheet" href="../../../../_/static/css/readthedocs-doc-embed.css" type="text/css" />

<script type="application/json" id="READTHEDOCS_DATA">{"ad_free": true, "api_host": "https://readthedocs.org", "builder": "sphinx", "canonical_url": null, "docroot": "/doc/source/", "features": {"docsearch_disabled": false}, "global_analytics_code": "UA-17997319-1", "language": "en", "page": "ray-observability/reference/cli", "programming_language": "py", "project": "ray", "proxied_api_host": "/_", "source_suffix": ".rst", "subprojects": {}, "theme": "sphinx_book_theme", "user_analytics_code": "", "version": "master"}</script>

<!--
Using this variable directly instead of using `JSON.parse` is deprecated.
The READTHEDOCS_DATA global variable will be removed in the future.
-->
<script type="text/javascript">
READTHEDOCS_DATA = JSON.parse(document.getElementById('READTHEDOCS_DATA').innerHTML);
</script>

<script type="text/javascript" src="../../../../_/static/javascript/readthedocs-analytics.js" async="async"></script>

<!-- end RTD <extrahead> -->
</head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"><div class='topnav'></div></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../../index.html">
      
      
      
      <h1 class="site-logo" id="site-title">Ray 3.0.0.dev0</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main Navigation">
    <div class="bd-toc-item active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../../index.html">
                    Welcome to Ray!
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Ray
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../ray-overview/index.html">
   Overview
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../ray-overview/getting-started.html">
   Getting Started
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../ray-more-libs/installation.html">
   Installation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../ray-overview/use-cases.html">
   Use Cases
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../ray-overview/examples.html">
   Example Gallery
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../ray-overview/ray-libraries.html">
   Ecosystem
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../ray-core/walkthrough.html">
   Ray Core
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../ray-air/getting-started.html">
   Ray AI Runtime (AIR)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../data/data.html">
   Ray Data
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../train/train.html">
   Ray Train
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../tune.html">
   Ray Tune
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../serve/index.html">
   Ray Serve
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../rllib/index.html">
   Ray RLlib
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../ray-more-libs/index.html">
   More Libraries
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../ray-core/cluster/index.html">
   Ray Clusters
  </a>
 </li>
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="../index.html">
   Monitoring and Debugging
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2">
    <a class="reference internal" href="../getting-started.html">
     Ray Dashboard
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../key-concepts.html">
     Key Concepts
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../user-guides/index.html">
     User Guides
    </a>
   </li>
   <li class="toctree-l2 current active has-children">
    <a class="reference internal" href="index.html">
     Reference
    </a>
    <input checked="" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
    <label for="toctree-checkbox-2">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul class="current">
     <li class="toctree-l3">
      <a class="reference internal" href="api.html">
       State API
      </a>
     </li>
     <li class="toctree-l3 current active">
      <a class="current reference internal" href="cli.html#">
       State CLI
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="system-metrics.html">
       System Metrics
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../ray-references/api.html">
   References
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../ray-contribute/stability.html">
   Developer Guides
  </a>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Theme by the <a href="https://ebp.jupyterbook.org">Executable Book Project</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-repository-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Source repositories">
      <i class="fab fa-github"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://github.com/ray-project/ray"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Source repository"
>
  

<span class="headerbtn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="headerbtn__text-container">repository</span>
</a>

      </li>
      
      <li>
        <a href="https://github.com/ray-project/ray/issues/new?title=Issue%20on%20page%20%2Fray-observability/reference/cli.html&body=Your%20issue%20content%20here."
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Open an issue"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="headerbtn__text-container">open issue</span>
</a>

      </li>
      
      <li>
        <a href="https://github.com/ray-project/ray/edit/master/doc/source/ray-observability/reference/cli.rst"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Edit this page"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-pencil-alt"></i>
  </span>
<span class="headerbtn__text-container">suggest edit</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="../../_sources/ray-observability/reference/cli.rst.txt"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.rst</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="cli.html#state">
   State
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="cli.html#ray-summary-tasks">
     ray summary tasks
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="cli.html#ray-summary-actors">
     ray summary actors
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="cli.html#ray-summary-objects">
     ray summary objects
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="cli.html#ray-list">
     ray list
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="cli.html#ray-get">
     ray get
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="cli.html#log">
   Log
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="cli.html#ray-logs">
     ray logs
    </a>
   </li>
  </ul>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>State CLI</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="cli.html#state">
   State
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="cli.html#ray-summary-tasks">
     ray summary tasks
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="cli.html#ray-summary-actors">
     ray summary actors
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="cli.html#ray-summary-objects">
     ray summary objects
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="cli.html#ray-list">
     ray list
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="cli.html#ray-get">
     ray get
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="cli.html#log">
   Log
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="cli.html#ray-logs">
     ray logs
    </a>
   </li>
  </ul>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section id="state-cli">
<span id="state-api-cli-ref"></span><h1>State CLI<a class="headerlink" href="cli.html#state-cli" title="Permalink to this headline">#</a></h1>
<section id="state">
<h2>State<a class="headerlink" href="cli.html#state" title="Permalink to this headline">#</a></h2>
<p>This section contains commands to access the <a class="reference internal" href="../user-guides/cli-sdk.html#state-api-overview-ref"><span class="std std-ref">live state of Ray resources (actor, task, object, etc.)</span></a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>APIs are <a class="reference internal" href="../../ray-contribute/stability.html#api-stability-alpha"><span class="std std-ref">alpha</span></a>. This feature requires a full installation of Ray using <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">&quot;ray[default]&quot;</span></code>. This feature also requires the dashboard component to be available. The dashboard component needs to be included when starting the ray cluster, which is the default behavior for <code class="docutils literal notranslate"><span class="pre">ray</span> <span class="pre">start</span></code> and <code class="docutils literal notranslate"><span class="pre">ray.init()</span></code>. For more in-depth debugging, you could check the dashboard log at <code class="docutils literal notranslate"><span class="pre">&lt;RAY_LOG_DIR&gt;/dashboard.log</span></code>, which is usually <code class="docutils literal notranslate"><span class="pre">/tmp/ray/session_latest/logs/dashboard.log</span></code>.</p>
</div>
<p>State CLI allows users to access the state of various resources (e.g., actor, task, object).</p>
<section id="ray-summary-tasks">
<h3>ray summary tasks<a class="headerlink" href="cli.html#ray-summary-tasks" title="Permalink to this headline">#</a></h3>
<p>Summarize the task state of the cluster.</p>
<blockquote>
<div><p>By default, the output contains the information grouped by
task function names.</p>
<p>The output schema is
<code class="xref py py-class docutils literal notranslate"><span class="pre">TaskSummaries</span></code>.</p>
<dl class="simple">
<dt>Raises:</dt><dd><dl class="simple">
<dt><code class="xref py py-class docutils literal notranslate"><span class="pre">RayStateApiException</span></code></dt><dd><p>if the CLI is failed to query the data.</p>
</dd>
</dl>
</dd>
</dl>
<p>PublicAPI: This API is stable across Ray releases.</p>
</div></blockquote>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>ray summary tasks <span class="o">[</span>OPTIONS<span class="o">]</span>
</pre></div>
</div>
<p class="rubric">Options</p>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ray-summary-tasks-timeout">
<span class="sig-name descname"><span class="pre">--timeout</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;timeout&gt;</span></span><a class="headerlink" href="cli.html#cmdoption-ray-summary-tasks-timeout" title="Permalink to this definition">#</a></dt>
<dd><p>Timeout in seconds for the API requests. Default is 30</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ray-summary-tasks-address">
<span class="sig-name descname"><span class="pre">--address</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;address&gt;</span></span><a class="headerlink" href="cli.html#cmdoption-ray-summary-tasks-address" title="Permalink to this definition">#</a></dt>
<dd><p>The address of Ray API server. If not provided, it will be configured automatically from querying the GCS server.</p>
</dd></dl>

</section>
<section id="ray-summary-actors">
<h3>ray summary actors<a class="headerlink" href="cli.html#ray-summary-actors" title="Permalink to this headline">#</a></h3>
<p>Summarize the actor state of the cluster.</p>
<blockquote>
<div><p>By default, the output contains the information grouped by
actor class names.</p>
<p>The output schema is
<code class="xref py py-class docutils literal notranslate"><span class="pre">ray.util.state.common.ActorSummaries</span></code>.</p>
<dl class="simple">
<dt>Raises:</dt><dd><dl class="simple">
<dt><code class="xref py py-class docutils literal notranslate"><span class="pre">RayStateApiException</span></code></dt><dd><p>if the CLI is failed to query the data.</p>
</dd>
</dl>
</dd>
</dl>
<p>PublicAPI: This API is stable across Ray releases.</p>
</div></blockquote>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>ray summary actors <span class="o">[</span>OPTIONS<span class="o">]</span>
</pre></div>
</div>
<p class="rubric">Options</p>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ray-summary-actors-timeout">
<span class="sig-name descname"><span class="pre">--timeout</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;timeout&gt;</span></span><a class="headerlink" href="cli.html#cmdoption-ray-summary-actors-timeout" title="Permalink to this definition">#</a></dt>
<dd><p>Timeout in seconds for the API requests. Default is 30</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ray-summary-actors-address">
<span class="sig-name descname"><span class="pre">--address</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;address&gt;</span></span><a class="headerlink" href="cli.html#cmdoption-ray-summary-actors-address" title="Permalink to this definition">#</a></dt>
<dd><p>The address of Ray API server. If not provided, it will be configured automatically from querying the GCS server.</p>
</dd></dl>

</section>
<section id="ray-summary-objects">
<h3>ray summary objects<a class="headerlink" href="cli.html#ray-summary-objects" title="Permalink to this headline">#</a></h3>
<p>Summarize the object state of the cluster.</p>
<blockquote>
<div><p>The API is recommended when debugging memory leaks.
See <a class="reference internal" href="../../ray-core/scheduling/memory-management.html#debug-with-ray-memory"><span class="std std-ref">Debugging with Ray Memory</span></a> for more details.
(Note that this command is almost equivalent to <code class="xref py py-obj docutils literal notranslate"><span class="pre">ray</span> <span class="pre">memory</span></code>, but it returns
easier-to-understand output).</p>
<p>By default, the output contains the information grouped by
object callsite. Note that the callsite is not collected and
all data will be aggregated as “disable” callsite if the env var
<code class="xref py py-obj docutils literal notranslate"><span class="pre">RAY_record_ref_creation_sites</span></code> is not configured. To enable the
callsite collection, set the following environment variable when
starting Ray.</p>
<p>Example:</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">`</span>
<span class="pre">RAY_record_ref_creation_sites=1</span> <span class="pre">ray</span> <span class="pre">start</span> <span class="pre">--head</span>
<span class="pre">`</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">`</span>
<span class="pre">RAY_record_ref_creation_sites=1</span> <span class="pre">ray_script.py</span>
<span class="pre">`</span></code></p>
</div></blockquote>
<p>The output schema is
<code class="xref py py-class docutils literal notranslate"><span class="pre">ray.util.state.common.ObjectSummaries</span></code>.</p>
<dl class="simple">
<dt>Raises:</dt><dd><dl class="simple">
<dt><code class="xref py py-class docutils literal notranslate"><span class="pre">RayStateApiException</span></code></dt><dd><p>if the CLI is failed to query the data.</p>
</dd>
</dl>
</dd>
</dl>
<p>PublicAPI: This API is stable across Ray releases.</p>
</div></blockquote>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>ray summary objects <span class="o">[</span>OPTIONS<span class="o">]</span>
</pre></div>
</div>
<p class="rubric">Options</p>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ray-summary-objects-timeout">
<span class="sig-name descname"><span class="pre">--timeout</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;timeout&gt;</span></span><a class="headerlink" href="cli.html#cmdoption-ray-summary-objects-timeout" title="Permalink to this definition">#</a></dt>
<dd><p>Timeout in seconds for the API requests. Default is 30</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ray-summary-objects-address">
<span class="sig-name descname"><span class="pre">--address</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;address&gt;</span></span><a class="headerlink" href="cli.html#cmdoption-ray-summary-objects-address" title="Permalink to this definition">#</a></dt>
<dd><p>The address of Ray API server. If not provided, it will be configured automatically from querying the GCS server.</p>
</dd></dl>

</section>
<section id="ray-list">
<h3>ray list<a class="headerlink" href="cli.html#ray-list" title="Permalink to this headline">#</a></h3>
<p>List all states of a given resource.</p>
<blockquote>
<div><p>Normally, summary APIs are recommended before listing all resources.</p>
<p>The output schema is defined at <a class="reference internal" href="api.html#state-api-schema"><span class="std std-ref">State API Schema section.</span></a></p>
<p>For example, the output schema of <code class="xref py py-obj docutils literal notranslate"><span class="pre">ray</span> <span class="pre">list</span> <span class="pre">tasks</span></code> is
<code class="xref py py-class docutils literal notranslate"><span class="pre">TaskState</span></code>.</p>
<p>Usage:</p>
<blockquote>
<div><p>List all actor information from the cluster.</p>
<p><code class="docutils literal notranslate"><span class="pre">`</span>
<span class="pre">ray</span> <span class="pre">list</span> <span class="pre">actors</span>
<span class="pre">`</span></code></p>
<p>List 50 actors from the cluster. The sorting order cannot be controlled.</p>
<p><code class="docutils literal notranslate"><span class="pre">`</span>
<span class="pre">ray</span> <span class="pre">list</span> <span class="pre">actors</span> <span class="pre">--limit</span> <span class="pre">50</span>
<span class="pre">`</span></code></p>
<p>List 10 actors with state PENDING.</p>
<p><code class="docutils literal notranslate"><span class="pre">`</span>
<span class="pre">ray</span> <span class="pre">list</span> <span class="pre">actors</span> <span class="pre">--limit</span> <span class="pre">10</span> <span class="pre">--filter</span> <span class="pre">&quot;state=PENDING&quot;</span>
<span class="pre">`</span></code></p>
<p>List actors with yaml format.</p>
<p><code class="docutils literal notranslate"><span class="pre">`</span>
<span class="pre">ray</span> <span class="pre">list</span> <span class="pre">actors</span> <span class="pre">--format</span> <span class="pre">yaml</span>
<span class="pre">`</span></code></p>
<p>List actors with details. When –detail is specified, it might query
more data sources to obtain data in details.</p>
<p><code class="docutils literal notranslate"><span class="pre">`</span>
<span class="pre">ray</span> <span class="pre">list</span> <span class="pre">actors</span> <span class="pre">--detail</span>
<span class="pre">`</span></code></p>
</div></blockquote>
<p>The API queries one or more components from the cluster to obtain the data.
The returned state snapshot could be stale, and it is not guaranteed to return
the live data.</p>
<p>The API can return partial or missing output upon the following scenarios.</p>
<ul class="simple">
<li><p>When the API queries more than 1 component, if some of them fail,
the API will return the partial result (with a suppressible warning).</p></li>
<li><p>When the API returns too many entries, the API
will truncate the output. Currently, truncated data cannot be
selected by users.</p></li>
</ul>
<dl class="simple">
<dt>Args:</dt><dd><p>resource: The type of the resource to query.</p>
</dd>
<dt>Raises:</dt><dd><dl class="simple">
<dt><code class="xref py py-class docutils literal notranslate"><span class="pre">RayStateApiException</span></code></dt><dd><p>if the CLI is failed to query the data.</p>
</dd>
</dl>
</dd>
</dl>
<p>PublicAPI: This API is stable across Ray releases.</p>
</div></blockquote>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>ray list <span class="o">[</span>OPTIONS<span class="o">]</span> <span class="o">{</span>actors<span class="p">|</span>jobs<span class="p">|</span>placement-
         groups<span class="p">|</span>nodes<span class="p">|</span>workers<span class="p">|</span>tasks<span class="p">|</span>objects<span class="p">|</span>runtime-envs<span class="p">|</span>cluster-events<span class="o">}</span>
</pre></div>
</div>
<p class="rubric">Options</p>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ray-list-format">
<span class="sig-name descname"><span class="pre">--format</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;format&gt;</span></span><a class="headerlink" href="cli.html#cmdoption-ray-list-format" title="Permalink to this definition">#</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Options</dt>
<dd class="field-odd"><p>default | json | yaml | table</p>
</dd>
</dl>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ray-list-f">
<span id="cmdoption-ray-list-filter"></span><span class="sig-name descname"><span class="pre">-f</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--filter</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;filter&gt;</span></span><a class="headerlink" href="cli.html#cmdoption-ray-list-f" title="Permalink to this definition">#</a></dt>
<dd><p>A key, predicate, and value to filter the result. E.g., –filter ‘key=value’ or –filter ‘key!=value’. You can specify multiple –filter options. In this case all predicates are concatenated as AND. For example, –filter key=value –filter key2=value means (key==val) AND (key2==val2)</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ray-list-limit">
<span class="sig-name descname"><span class="pre">--limit</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;limit&gt;</span></span><a class="headerlink" href="cli.html#cmdoption-ray-list-limit" title="Permalink to this definition">#</a></dt>
<dd><p>Maximum number of entries to return. 100 by default.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ray-list-detail">
<span class="sig-name descname"><span class="pre">--detail</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="cli.html#cmdoption-ray-list-detail" title="Permalink to this definition">#</a></dt>
<dd><p>If the flag is set, the output will contain data in more details. Note that the API could query more sources to obtain information in a greater detail.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ray-list-timeout">
<span class="sig-name descname"><span class="pre">--timeout</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;timeout&gt;</span></span><a class="headerlink" href="cli.html#cmdoption-ray-list-timeout" title="Permalink to this definition">#</a></dt>
<dd><p>Timeout in seconds for the API requests. Default is 30</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ray-list-address">
<span class="sig-name descname"><span class="pre">--address</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;address&gt;</span></span><a class="headerlink" href="cli.html#cmdoption-ray-list-address" title="Permalink to this definition">#</a></dt>
<dd><p>The address of Ray API server. If not provided, it will be configured automatically from querying the GCS server.</p>
</dd></dl>

<p class="rubric">Arguments</p>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ray-list-arg-RESOURCE">
<span id="cmdoption-ray-list-arg-resource"></span><span class="sig-name descname"><span class="pre">RESOURCE</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="cli.html#cmdoption-ray-list-arg-RESOURCE" title="Permalink to this definition">#</a></dt>
<dd><p>Required argument</p>
</dd></dl>

</section>
<section id="ray-get">
<h3>ray get<a class="headerlink" href="cli.html#ray-get" title="Permalink to this headline">#</a></h3>
<p>Get a state of a given resource by ID.</p>
<blockquote>
<div><p>We currently DO NOT support get by id for jobs and runtime-envs</p>
<p>The output schema is defined at <a class="reference internal" href="api.html#state-api-schema"><span class="std std-ref">State API Schema section.</span></a></p>
<p>For example, the output schema of <code class="xref py py-obj docutils literal notranslate"><span class="pre">ray</span> <span class="pre">get</span> <span class="pre">tasks</span></code> is
<code class="xref py py-class docutils literal notranslate"><span class="pre">TaskState</span></code>.</p>
<p>Usage:</p>
<blockquote>
<div><p>Get an actor with actor id &lt;actor-id&gt;</p>
<p><code class="docutils literal notranslate"><span class="pre">`</span>
<span class="pre">ray</span> <span class="pre">get</span> <span class="pre">actors</span> <span class="pre">&lt;actor-id&gt;</span>
<span class="pre">`</span></code></p>
<p>Get a placement group information with &lt;placement-group-id&gt;</p>
<p><code class="docutils literal notranslate"><span class="pre">`</span>
<span class="pre">ray</span> <span class="pre">get</span> <span class="pre">placement-groups</span> <span class="pre">&lt;placement-group-id&gt;</span>
<span class="pre">`</span></code></p>
</div></blockquote>
<p>The API queries one or more components from the cluster to obtain the data.
The returned state snapshot could be stale, and it is not guaranteed to return
the live data.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>resource: The type of the resource to query.
id: The id of the resource.</p>
</dd>
<dt>Raises:</dt><dd><dl class="simple">
<dt><code class="xref py py-class docutils literal notranslate"><span class="pre">RayStateApiException</span></code></dt><dd><p>if the CLI is failed to query the data.</p>
</dd>
</dl>
</dd>
</dl>
<p>PublicAPI: This API is stable across Ray releases.</p>
</div></blockquote>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>ray get <span class="o">[</span>OPTIONS<span class="o">]</span> <span class="o">{</span>actors<span class="p">|</span>placement-
        groups<span class="p">|</span>nodes<span class="p">|</span>workers<span class="p">|</span>tasks<span class="p">|</span>objects<span class="p">|</span>cluster-events<span class="o">}</span> ID
</pre></div>
</div>
<p class="rubric">Options</p>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ray-get-address">
<span class="sig-name descname"><span class="pre">--address</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;address&gt;</span></span><a class="headerlink" href="cli.html#cmdoption-ray-get-address" title="Permalink to this definition">#</a></dt>
<dd><p>The address of Ray API server. If not provided, it will be configured automatically from querying the GCS server.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ray-get-timeout">
<span class="sig-name descname"><span class="pre">--timeout</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;timeout&gt;</span></span><a class="headerlink" href="cli.html#cmdoption-ray-get-timeout" title="Permalink to this definition">#</a></dt>
<dd><p>Timeout in seconds for the API requests. Default is 30</p>
</dd></dl>

<p class="rubric">Arguments</p>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ray-get-arg-RESOURCE">
<span id="cmdoption-ray-get-arg-resource"></span><span class="sig-name descname"><span class="pre">RESOURCE</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="cli.html#cmdoption-ray-get-arg-RESOURCE" title="Permalink to this definition">#</a></dt>
<dd><p>Required argument</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ray-get-arg-ID">
<span id="cmdoption-ray-get-arg-id"></span><span class="sig-name descname"><span class="pre">ID</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="cli.html#cmdoption-ray-get-arg-ID" title="Permalink to this definition">#</a></dt>
<dd><p>Required argument</p>
</dd></dl>

</section>
</section>
<section id="log">
<span id="ray-logs-api-cli-ref"></span><h2>Log<a class="headerlink" href="cli.html#log" title="Permalink to this headline">#</a></h2>
<p>This section contains commands to <a class="reference internal" href="../user-guides/cli-sdk.html#state-api-log-doc"><span class="std std-ref">access logs</span></a> from Ray clusters.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>APIs are <a class="reference internal" href="../../ray-contribute/stability.html#api-stability-alpha"><span class="std std-ref">alpha</span></a>. This feature requires a full installation of Ray using <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">&quot;ray[default]&quot;</span></code>.</p>
</div>
<p>Log CLI allows users to access the log from the cluster.
Note that only the logs from alive nodes are available through this API.</p>
<section id="ray-logs">
<h3>ray logs<a class="headerlink" href="cli.html#ray-logs" title="Permalink to this headline">#</a></h3>
<p>Get logs based on filename (cluster) or resource identifiers (actor)</p>
<p>Example:</p>
<blockquote>
<div><p>Get all the log files available on a node (ray address could be
obtained from <code class="xref py py-obj docutils literal notranslate"><span class="pre">ray</span> <span class="pre">start</span> <span class="pre">--head</span></code> or <a class="reference internal" href="../../ray-core/api/doc/ray.init.html#ray.init" title="ray.init"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ray.init()</span></code></a>).</p>
<p><code class="docutils literal notranslate"><span class="pre">`</span>
<span class="pre">ray</span> <span class="pre">logs</span> <span class="pre">cluster</span>
<span class="pre">`</span></code></p>
<p>[ray logs cluster] Print the last 500 lines of raylet.out on a head node.</p>
<p><code class="docutils literal notranslate"><span class="pre">`</span>
<span class="pre">ray</span> <span class="pre">logs</span> <span class="pre">cluster</span> <span class="pre">raylet.out</span> <span class="pre">--tail</span> <span class="pre">500</span>
<span class="pre">`</span></code></p>
<p>Or simply, using <code class="xref py py-obj docutils literal notranslate"><span class="pre">ray</span> <span class="pre">logs</span></code> as an alias for <code class="xref py py-obj docutils literal notranslate"><span class="pre">ray</span> <span class="pre">logs</span> <span class="pre">cluster</span></code>:</p>
<p><code class="docutils literal notranslate"><span class="pre">`</span>
<span class="pre">ray</span> <span class="pre">logs</span> <span class="pre">raylet.out</span> <span class="pre">--tail</span> <span class="pre">500</span>
<span class="pre">`</span></code></p>
<p>Print the last 500 lines of raylet.out on a worker node id A.</p>
<p><code class="docutils literal notranslate"><span class="pre">`</span>
<span class="pre">ray</span> <span class="pre">logs</span> <span class="pre">raylet.out</span> <span class="pre">--tail</span> <span class="pre">500</span> <span class="pre">—-node-id</span> <span class="pre">A</span>
<span class="pre">`</span></code></p>
<p>[ray logs actor] Follow the log file with an actor id ABC.</p>
<p><code class="docutils literal notranslate"><span class="pre">`</span>
<span class="pre">ray</span> <span class="pre">logs</span> <span class="pre">actor</span> <span class="pre">--id</span> <span class="pre">ABC</span> <span class="pre">--follow</span>
<span class="pre">`</span></code></p>
<p>[ray logs task] Get the std err generated by a task.</p>
<p>Note: If a task is from a concurrent actor (i.e. an async actor or
a threaded actor), the log of the tasks are expected to be interleaved.
Please use <code class="xref py py-obj docutils literal notranslate"><span class="pre">ray</span> <span class="pre">logs</span> <span class="pre">actor</span> <span class="pre">--id</span></code> for the entire actor log.</p>
<p><code class="docutils literal notranslate"><span class="pre">`</span>
<span class="pre">ray</span> <span class="pre">logs</span> <span class="pre">task</span> <span class="pre">--id</span> <span class="pre">&lt;TASK_ID&gt;</span> <span class="pre">--err</span>
<span class="pre">`</span></code></p>
</div></blockquote>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>ray logs <span class="o">[</span>OPTIONS<span class="o">]</span> COMMAND <span class="o">[</span>ARGS<span class="o">]</span>...
</pre></div>
</div>
<p class="rubric">Commands</p>
<dl class="object">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">actor</span></span></dt>
<dd><p>Get/List logs associated with an actor.</p>
</dd></dl>

<dl class="object">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">cluster</span></span></dt>
<dd><p>Get/List logs that matches the GLOB_FILTER…</p>
</dd></dl>

<dl class="object">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">job</span></span></dt>
<dd><p>Get logs associated with a submission job.</p>
</dd></dl>

<dl class="object">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">task</span></span></dt>
<dd><p>Get logs associated with a task.</p>
</dd></dl>

<dl class="object">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">worker</span></span></dt>
<dd><p>Get logs associated with a worker process.</p>
</dd></dl>

</section>
</section>
</section>


              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="../../ray-core/api/cli.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Ray Core CLI</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="api.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">State API</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By The Ray Team<br/>
  
      &copy; Copyright 2023, The Ray Team.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/pydata-sphinx-theme.js@digest=1999514e3f237ded88cf"></script>


  </body>
</html>