
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Optimizing Performance &#8212; Ray 3.0.0.dev0</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../../../_static/styles/theme.css@digest=1999514e3f237ded88cf.css" rel="stylesheet">
<link href="../../../_static/styles/pydata-sphinx-theme.css@digest=1999514e3f237ded88cf.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
    <link rel="stylesheet" href="../../../_static/styles/sphinx-book-theme.css@digest=5115cc725059bd94278eecd172e13a965bf8f5a9.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/autodoc_pydantic.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/css/custom.css" />
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/css/termynal.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/tabs.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../_/static/css/badge_only.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../../_static/scripts/pydata-sphinx-theme.js@digest=1999514e3f237ded88cf">

    <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/clipboard.min.js"></script>
    <script src="../../../_static/copybutton.js"></script>
    <script src="../../../_static/js/versionwarning.js"></script>
    <script src="../../../_static/togglebutton.js"></script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
    <script defer="defer" src="../../../_static/js/docsearch.js"></script>
    <script src="../../../_static/js/rate-the-docs.es.min.js"></script>
    <script defer="defer" src="../../../_static/js/termynal.js"></script>
    <script defer="defer" src="../../../_static/js/custom.js"></script>
    <script defer="defer" src="../../../_static/js/top-navigation.js"></script>
    <script src="../../../_static/js/tags.js"></script>
    <script src="../../../_static/scripts/sphinx-book-theme.js@digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../../../_static/design-tabs.js"></script>
    <script async="async" src="../../../../../_/static/javascript/readthedocs-doc-embed.js"></script>
    <link rel="canonical" href="https://docs.ray.io/en/latest/ray-observability/user-guides/debug-apps/optimize-performance.html" />
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Using the Ray Debugger" href="ray-debugging.html" />
    <link rel="prev" title="Debugging Failures" href="debug-failures.html" />

<!-- Fathom - beautiful, simple website analytics -->
<script src="https://deer.ray.io/script.js" data-site="WYYANYOS" defer></script>
<!-- / Fathom -->

<script async src="https://www.googletagmanager.com/gtag/js?id=UA-110413294-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-110413294-1');
</script>

<script
  src="https://widget.kapa.ai/kapa-widget.bundle.js"
  data-website-id="18a8c339-4ec5-43c8-8182-db3f2bc8c6b6"
  data-project-name="Ray"
  data-project-color="#2C2C2C"
  data-project-logo="https://global.discourse-cdn.com/business7/uploads/ray/original/1X/8f4dcb72f7cd34e2a332d548bd65860994bc8ff1.png"
></script>

<script>
(function(apiKey){
    (function(p,e,n,d,o){var v,w,x,y,z;o=p[d]=p[d]||{};o._q=o._q||[];
    v=['initialize','identify','updateOptions','pageLoad','track'];for(w=0,x=v.length;w<x;++w)(function(m){
        o[m]=o[m]||function(){o._q[m===v[0]?'unshift':'push']([m].concat([].slice.call(arguments,0)));};})(v[w]);
        y=e.createElement(n);y.async=!0;y.src='https://cdn.pendo.io/agent/static/'+apiKey+'/pendo.js';
        z=e.getElementsByTagName(n)[0];z.parentNode.insertBefore(y,z);})(window,document,'script','pendo');

        pendo.initialize({
            visitor: {
                id: 'VISITOR-UNIQUE-ID'
            },
            account: {
                id: 'ACCOUNT-UNIQUE-ID'
            }
        });
})('f89fa48a-6dd7-4d7c-67cf-a8051ed891f2');
</script>



  
<!-- RTD Extra Head -->

<link rel="stylesheet" href="../../../../../_/static/css/readthedocs-doc-embed.css" type="text/css" />

<script type="application/json" id="READTHEDOCS_DATA">{"ad_free": true, "api_host": "https://readthedocs.org", "builder": "sphinx", "canonical_url": null, "docroot": "/doc/source/", "features": {"docsearch_disabled": false}, "global_analytics_code": "UA-17997319-1", "language": "en", "page": "ray-observability/user-guides/debug-apps/optimize-performance", "programming_language": "py", "project": "ray", "proxied_api_host": "/_", "source_suffix": ".rst", "subprojects": {}, "theme": "sphinx_book_theme", "user_analytics_code": "", "version": "master"}</script>

<!--
Using this variable directly instead of using `JSON.parse` is deprecated.
The READTHEDOCS_DATA global variable will be removed in the future.
-->
<script type="text/javascript">
READTHEDOCS_DATA = JSON.parse(document.getElementById('READTHEDOCS_DATA').innerHTML);
</script>

<script type="text/javascript" src="../../../../../_/static/javascript/readthedocs-analytics.js" async="async"></script>

<!-- end RTD <extrahead> -->
</head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"><div class='topnav'></div></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../../../index.html">
      
      
      
      <h1 class="site-logo" id="site-title">Ray 3.0.0.dev0</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main Navigation">
    <div class="bd-toc-item active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../../../index.html">
                    Welcome to Ray!
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Ray
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../../ray-overview/index.html">
   Overview
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../ray-overview/getting-started.html">
   Getting Started
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../ray-more-libs/installation.html">
   Installation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../ray-overview/use-cases.html">
   Use Cases
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../ray-overview/examples.html">
   Example Gallery
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../ray-overview/ray-libraries.html">
   Ecosystem
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../ray-core/walkthrough.html">
   Ray Core
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../ray-air/getting-started.html">
   Ray AI Runtime (AIR)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../data/data.html">
   Ray Data
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../train/train.html">
   Ray Train
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../tune.html">
   Ray Tune
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../serve/index.html">
   Ray Serve
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../rllib/index.html">
   Ray RLlib
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../ray-more-libs/index.html">
   More Libraries
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../ray-core/cluster/index.html">
   Ray Clusters
  </a>
 </li>
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="../../index.html">
   Monitoring and Debugging
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2">
    <a class="reference internal" href="../../getting-started.html">
     Ray Dashboard
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../key-concepts.html">
     Key Concepts
    </a>
   </li>
   <li class="toctree-l2 current active has-children">
    <a class="reference internal" href="../index.html">
     User Guides
    </a>
    <input checked="" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
    <label for="toctree-checkbox-2">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul class="current">
     <li class="toctree-l3 current active has-children">
      <a class="reference internal" href="index.html">
       Debugging Applications
      </a>
      <input checked="" class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
      <label for="toctree-checkbox-3">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul class="current">
       <li class="toctree-l4">
        <a class="reference internal" href="general-debugging.html">
         General Debugging
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="debug-memory.html">
         Debugging Memory Issues
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="debug-hangs.html">
         Debugging Hangs
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="debug-failures.html">
         Debugging Failures
        </a>
       </li>
       <li class="toctree-l4 current active">
        <a class="current reference internal" href="optimize-performance.html#">
         Optimizing Performance
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="ray-debugging.html">
         Using the Ray Debugger
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../cli-sdk.html">
       Monitoring with the CLI or SDK
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../configure-logging.html">
       Configuring Logging
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../add-app-metrics.html">
       Adding Application-Level Metrics
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../ray-tracing.html">
       Tracing
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../reference/index.html">
     Reference
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../ray-references/api.html">
   References
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../ray-contribute/stability.html">
   Developer Guides
  </a>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Theme by the <a href="https://ebp.jupyterbook.org">Executable Book Project</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-repository-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Source repositories">
      <i class="fab fa-github"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://github.com/ray-project/ray"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Source repository"
>
  

<span class="headerbtn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="headerbtn__text-container">repository</span>
</a>

      </li>
      
      <li>
        <a href="https://github.com/ray-project/ray/issues/new?title=Issue%20on%20page%20%2Fray-observability/user-guides/debug-apps/optimize-performance.html&body=Your%20issue%20content%20here."
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Open an issue"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="headerbtn__text-container">open issue</span>
</a>

      </li>
      
      <li>
        <a href="https://github.com/ray-project/ray/edit/master/doc/source/ray-observability/user-guides/debug-apps/optimize-performance.rst"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Edit this page"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-pencil-alt"></i>
  </span>
<span class="headerbtn__text-container">suggest edit</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="../../../_sources/ray-observability/user-guides/debug-apps/optimize-performance.rst.txt"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.rst</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="optimize-performance.html#no-speedup">
   No speedup
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="optimize-performance.html#visualizing-tasks-with-ray-timeline">
   Visualizing Tasks with Ray Timeline
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="optimize-performance.html#python-cpu-profiling-in-the-dashboard">
   Python CPU profiling in the Dashboard
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="optimize-performance.html#profiling-using-python-s-cprofile">
   Profiling using Python’s cProfile
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="optimize-performance.html#profiling-ray-actors-with-cprofile">
     Profiling Ray Actors with cProfile
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="optimize-performance.html#gpu-profiling">
   GPU Profiling
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="optimize-performance.html#profiling-for-developers">
   Profiling for Developers
  </a>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Optimizing Performance</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="optimize-performance.html#no-speedup">
   No speedup
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="optimize-performance.html#visualizing-tasks-with-ray-timeline">
   Visualizing Tasks with Ray Timeline
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="optimize-performance.html#python-cpu-profiling-in-the-dashboard">
   Python CPU profiling in the Dashboard
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="optimize-performance.html#profiling-using-python-s-cprofile">
   Profiling using Python’s cProfile
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="optimize-performance.html#profiling-ray-actors-with-cprofile">
     Profiling Ray Actors with cProfile
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="optimize-performance.html#gpu-profiling">
   GPU Profiling
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="optimize-performance.html#profiling-for-developers">
   Profiling for Developers
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section id="optimizing-performance">
<span id="observability-optimize-performance"></span><h1>Optimizing Performance<a class="headerlink" href="optimize-performance.html#optimizing-performance" title="Permalink to this headline">#</a></h1>
<section id="no-speedup">
<h2>No speedup<a class="headerlink" href="optimize-performance.html#no-speedup" title="Permalink to this headline">#</a></h2>
<p>You just ran an application using Ray, but it wasn’t as fast as you expected it
to be. Or worse, perhaps it was slower than the serial version of the
application! The most common reasons are the following.</p>
<ul>
<li><p><strong>Number of cores:</strong> How many cores is Ray using? When you start Ray, it will
determine the number of CPUs on each machine with <code class="docutils literal notranslate"><span class="pre">psutil.cpu_count()</span></code>. Ray
usually will not schedule more tasks in parallel than the number of CPUs. So
if the number of CPUs is 4, the most you should expect is a 4x speedup.</p></li>
<li><p><strong>Physical versus logical CPUs:</strong> Do the machines you’re running on have fewer
<strong>physical</strong> cores than <strong>logical</strong> cores? You can check the number of logical
cores with <code class="docutils literal notranslate"><span class="pre">psutil.cpu_count()</span></code> and the number of physical cores with
<code class="docutils literal notranslate"><span class="pre">psutil.cpu_count(logical=False)</span></code>. This is common on a lot of machines and
especially on EC2. For many workloads (especially numerical workloads), you
often cannot expect a greater speedup than the number of physical CPUs.</p></li>
<li><p><strong>Small tasks:</strong> Are your tasks very small? Ray introduces some overhead for
each task (the amount of overhead depends on the arguments that are passed
in). You will be unlikely to see speedups if your tasks take less than ten
milliseconds. For many workloads, you can easily increase the sizes of your
tasks by batching them together.</p></li>
<li><p><strong>Variable durations:</strong> Do your tasks have variable duration? If you run 10
tasks with variable duration in parallel, you shouldn’t expect an N-fold
speedup (because you’ll end up waiting for the slowest task). In this case,
consider using <code class="docutils literal notranslate"><span class="pre">ray.wait</span></code> to begin processing tasks that finish first.</p></li>
<li><p><strong>Multi-threaded libraries:</strong> Are all of your tasks attempting to use all of
the cores on the machine? If so, they are likely to experience contention and
prevent your application from achieving a speedup.
This is common with some versions of <code class="docutils literal notranslate"><span class="pre">numpy</span></code>. To avoid contention, set an
environment variable like <code class="docutils literal notranslate"><span class="pre">MKL_NUM_THREADS</span></code> (or the equivalent depending on
your installation) to <code class="docutils literal notranslate"><span class="pre">1</span></code>.</p>
<p>For many - but not all - libraries, you can diagnose this by opening <code class="docutils literal notranslate"><span class="pre">top</span></code>
while your application is running. If one process is using most of the CPUs,
and the others are using a small amount, this may be the problem. The most
common exception is PyTorch, which will appear to be using all the cores
despite needing <code class="docutils literal notranslate"><span class="pre">torch.set_num_threads(1)</span></code> to be called to avoid contention.</p>
</li>
</ul>
<p>If you are still experiencing a slowdown, but none of the above problems apply,
we’d really like to know! Create a <a class="reference external" href="https://github.com/ray-project/ray/issues">GitHub issue</a> and Submit a minimal code example that demonstrates the problem.</p>
<p>This document discusses some common problems that people run into when using Ray
as well as some known problems. If you encounter other problems, <a class="reference external" href="https://github.com/ray-project/ray/issues">let us know</a>.</p>
</section>
<section id="visualizing-tasks-with-ray-timeline">
<span id="ray-core-timeline"></span><h2>Visualizing Tasks with Ray Timeline<a class="headerlink" href="optimize-performance.html#visualizing-tasks-with-ray-timeline" title="Permalink to this headline">#</a></h2>
<p>View <a class="reference internal" href="../../getting-started.html#dashboard-timeline"><span class="std std-ref">how to use Ray Timeline in the Dashboard</span></a> for more details.</p>
<p>Instead of using Dashboard UI to download the tracing file, you can also export the tracing file as a JSON file by running <code class="docutils literal notranslate"><span class="pre">ray</span> <span class="pre">timeline</span></code> from the command line or <code class="docutils literal notranslate"><span class="pre">ray.timeline</span></code> from the Python API.
.. code-block:: python
ray.timeline(filename=”/tmp/timeline.json”)</p>
</section>
<section id="python-cpu-profiling-in-the-dashboard">
<span id="dashboard-profiling"></span><h2>Python CPU profiling in the Dashboard<a class="headerlink" href="optimize-performance.html#python-cpu-profiling-in-the-dashboard" title="Permalink to this headline">#</a></h2>
<p>The <a class="reference internal" href="../../getting-started.html#observability-getting-started"><span class="std std-ref">Ray dashboard</span></a>  lets you profile Ray worker processes by clicking on the “Stack Trace” or “CPU Flame Graph”
actions for active workers, actors, and jobs.</p>
<a class="reference internal image-reference" href="../../../_images/profile.png"><img alt="../../../_images/profile.png" class="align-center" src="../../../_images/profile.png" style="width: 80%;" /></a>
<p>Clicking “Stack Trace” returns the current stack trace sample using <code class="docutils literal notranslate"><span class="pre">py-spy</span></code>. By default, only the Python stack
trace is shown. To show native code frames, set the URL parameter <code class="docutils literal notranslate"><span class="pre">native=1</span></code> (only supported on Linux).</p>
<a class="reference internal image-reference" href="../../../_images/stack.png"><img alt="../../../_images/stack.png" class="align-center" src="../../../_images/stack.png" style="width: 60%;" /></a>
<p>Clicking “CPU Flame Graph” takes a number of stack trace samples and combine them into a flame graph visualization.
This flame graph can be useful for understanding the CPU activity of the particular process. To adjust the duration
of the flame graph, you can change the <code class="docutils literal notranslate"><span class="pre">duration</span></code> parameter in the URL. Similarly, you can change the <code class="docutils literal notranslate"><span class="pre">native</span></code>
parameter to enable native profiling.</p>
<a class="reference internal image-reference" href="../../../_images/flamegraph.png"><img alt="../../../_images/flamegraph.png" class="align-center" src="../../../_images/flamegraph.png" style="width: 80%;" /></a>
<p>The profiling feature requires <code class="docutils literal notranslate"><span class="pre">py-spy</span></code> to be installed. If it is not installed, or if the <code class="docutils literal notranslate"><span class="pre">py-spy</span></code> binary does
not have root permissions, the Dashboard prompts with instructions on how to setup <code class="docutils literal notranslate"><span class="pre">py-spy</span></code> correctly:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>This command requires `py-spy` to be installed with root permissions. You
can install `py-spy` and give it root permissions as follows:
  $ pip install py-spy
  $ sudo chown root:root `which py-spy`
  $ sudo chmod u+s `which py-spy`

Alternatively, you can start Ray with passwordless sudo / root permissions.
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you run Ray in a Docker container, you may run into permission errors when using py-spy. Follow the <a class="reference external" href="https://github.com/benfred/py-spy#how-do-i-run-py-spy-in-docker">py-spy documentation</a>  to resolve it.</p>
</div>
</section>
<section id="profiling-using-python-s-cprofile">
<span id="dashboard-cprofile"></span><h2>Profiling using Python’s cProfile<a class="headerlink" href="optimize-performance.html#profiling-using-python-s-cprofile" title="Permalink to this headline">#</a></h2>
<p>You can use Python’s native cProfile <a class="reference external" href="https://docs.python.org/3/library/profile.html#module-cProfile">profiling module</a> to profile the performance of your Ray application. Rather than tracking
line-by-line of your application code, cProfile can give the total runtime
of each loop function, as well as list the number of calls made and
execution time of all function calls made within the profiled code.</p>
<p>Unlike <code class="docutils literal notranslate"><span class="pre">line_profiler</span></code> above, this detailed list of profiled function calls
<strong>includes</strong> internal function calls and function calls made within Ray.</p>
<p>However, similar to <code class="docutils literal notranslate"><span class="pre">line_profiler</span></code>, cProfile can be enabled with minimal
changes to your application code (given that each section of the code you want
to profile is defined as its own function). To use cProfile, add an import
statement, then replace calls to the loop functions as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">cProfile</span>  <span class="c1"># Added import statement</span>

<span class="k">def</span> <span class="nf">ex1</span><span class="p">():</span>
    <span class="n">list1</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>
        <span class="n">list1</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ray</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">func</span><span class="o">.</span><span class="n">remote</span><span class="p">()))</span>

<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="n">ray</span><span class="o">.</span><span class="n">init</span><span class="p">()</span>
    <span class="n">cProfile</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;ex1()&#39;</span><span class="p">)</span>  <span class="c1"># Modified call to ex1</span>
    <span class="n">cProfile</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;ex2()&#39;</span><span class="p">)</span>
    <span class="n">cProfile</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;ex3()&#39;</span><span class="p">)</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">main</span><span class="p">()</span>
</pre></div>
</div>
<p>Now, when you execute your Python script, a cProfile list of profiled function
calls are printed on the terminal for each call made to <code class="docutils literal notranslate"><span class="pre">cProfile.run()</span></code>.
At the very top of cProfile’s output gives the total execution time for
<code class="docutils literal notranslate"><span class="pre">'ex1()'</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="m">601</span> <span class="k">function</span> calls <span class="o">(</span><span class="m">595</span> primitive calls<span class="o">)</span> <span class="k">in</span> <span class="m">2</span>.509 seconds
</pre></div>
</div>
<p>Following is a snippet of profiled function calls for <code class="docutils literal notranslate"><span class="pre">'ex1()'</span></code>. Most of
these calls are quick and take around 0.000 seconds, so the functions of
interest are the ones with non-zero execution times:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ncalls  tottime  percall  cumtime  percall filename:lineno<span class="o">(</span><span class="k">function</span><span class="o">)</span>
...
    <span class="m">1</span>    <span class="m">0</span>.000    <span class="m">0</span>.000    <span class="m">2</span>.509    <span class="m">2</span>.509 your_script_here.py:31<span class="o">(</span>ex1<span class="o">)</span>
    <span class="m">5</span>    <span class="m">0</span>.000    <span class="m">0</span>.000    <span class="m">0</span>.001    <span class="m">0</span>.000 remote_function.py:103<span class="o">(</span>remote<span class="o">)</span>
    <span class="m">5</span>    <span class="m">0</span>.000    <span class="m">0</span>.000    <span class="m">0</span>.001    <span class="m">0</span>.000 remote_function.py:107<span class="o">(</span>_remote<span class="o">)</span>
...
   <span class="m">10</span>    <span class="m">0</span>.000    <span class="m">0</span>.000    <span class="m">0</span>.000    <span class="m">0</span>.000 worker.py:2459<span class="o">(</span>__init__<span class="o">)</span>
    <span class="m">5</span>    <span class="m">0</span>.000    <span class="m">0</span>.000    <span class="m">2</span>.508    <span class="m">0</span>.502 worker.py:2535<span class="o">(</span>get<span class="o">)</span>
    <span class="m">5</span>    <span class="m">0</span>.000    <span class="m">0</span>.000    <span class="m">0</span>.000    <span class="m">0</span>.000 worker.py:2695<span class="o">(</span>get_global_worker<span class="o">)</span>
   <span class="m">10</span>    <span class="m">0</span>.000    <span class="m">0</span>.000    <span class="m">2</span>.507    <span class="m">0</span>.251 worker.py:374<span class="o">(</span>retrieve_and_deserialize<span class="o">)</span>
    <span class="m">5</span>    <span class="m">0</span>.000    <span class="m">0</span>.000    <span class="m">2</span>.508    <span class="m">0</span>.502 worker.py:424<span class="o">(</span>get_object<span class="o">)</span>
    <span class="m">5</span>    <span class="m">0</span>.000    <span class="m">0</span>.000    <span class="m">0</span>.000    <span class="m">0</span>.000 worker.py:514<span class="o">(</span>submit_task<span class="o">)</span>
...
</pre></div>
</div>
<p>The 5 separate calls to Ray’s <code class="docutils literal notranslate"><span class="pre">get</span></code>, taking the full 0.502 seconds each call,
can be noticed at <code class="docutils literal notranslate"><span class="pre">worker.py:2535(get)</span></code>. Meanwhile, the act of calling the
remote function itself at <code class="docutils literal notranslate"><span class="pre">remote_function.py:103(remote)</span></code> only takes 0.001
seconds over 5 calls, and thus is not the source of the slow performance of
<code class="docutils literal notranslate"><span class="pre">ex1()</span></code>.</p>
<section id="profiling-ray-actors-with-cprofile">
<h3>Profiling Ray Actors with cProfile<a class="headerlink" href="optimize-performance.html#profiling-ray-actors-with-cprofile" title="Permalink to this headline">#</a></h3>
<p>Considering that the detailed output of cProfile can be quite different depending
on what Ray functionalities we use, let us see what cProfile’s output might look
like if our example involved Actors (for an introduction to Ray actors, see our
<a class="reference internal" href="../../../ray-more-libs/actors.html#actor-guide"><span class="std std-ref">Actor documentation</span></a>).</p>
<p>Now, instead of looping over five calls to a remote function like in <code class="docutils literal notranslate"><span class="pre">ex1</span></code>,
let’s create a new example and loop over five calls to a remote function
<strong>inside an actor</strong>. Our actor’s remote function again just sleeps for 0.5
seconds:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Our actor</span>
<span class="nd">@ray</span><span class="o">.</span><span class="n">remote</span>
<span class="k">class</span> <span class="nc">Sleeper</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sleepValue</span> <span class="o">=</span> <span class="mf">0.5</span>

    <span class="c1"># Equivalent to func(), but defined within an actor</span>
    <span class="k">def</span> <span class="nf">actor_func</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sleepValue</span><span class="p">)</span>
</pre></div>
</div>
<p>Recalling the suboptimality of <code class="docutils literal notranslate"><span class="pre">ex1</span></code>, let’s first see what happens if we
attempt to perform all five <code class="docutils literal notranslate"><span class="pre">actor_func()</span></code> calls within a single actor:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">ex4</span><span class="p">():</span>
    <span class="c1"># This is suboptimal in Ray, and should only be used for the sake of this example</span>
    <span class="n">actor_example</span> <span class="o">=</span> <span class="n">Sleeper</span><span class="o">.</span><span class="n">remote</span><span class="p">()</span>

    <span class="n">five_results</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>
        <span class="n">five_results</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">actor_example</span><span class="o">.</span><span class="n">actor_func</span><span class="o">.</span><span class="n">remote</span><span class="p">())</span>

    <span class="c1"># Wait until the end to call ray.get()</span>
    <span class="n">ray</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">five_results</span><span class="p">)</span>
</pre></div>
</div>
<p>We enable cProfile on this example as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="n">ray</span><span class="o">.</span><span class="n">init</span><span class="p">()</span>
    <span class="n">cProfile</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;ex4()&#39;</span><span class="p">)</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">main</span><span class="p">()</span>
</pre></div>
</div>
<p>Running our new Actor example, cProfile’s abbreviated output is as follows:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="m">12519</span> <span class="k">function</span> calls <span class="o">(</span><span class="m">11956</span> primitive calls<span class="o">)</span> <span class="k">in</span> <span class="m">2</span>.525 seconds

ncalls  tottime  percall  cumtime  percall filename:lineno<span class="o">(</span><span class="k">function</span><span class="o">)</span>
...
<span class="m">1</span>    <span class="m">0</span>.000    <span class="m">0</span>.000    <span class="m">0</span>.015    <span class="m">0</span>.015 actor.py:546<span class="o">(</span>remote<span class="o">)</span>
<span class="m">1</span>    <span class="m">0</span>.000    <span class="m">0</span>.000    <span class="m">0</span>.015    <span class="m">0</span>.015 actor.py:560<span class="o">(</span>_remote<span class="o">)</span>
<span class="m">1</span>    <span class="m">0</span>.000    <span class="m">0</span>.000    <span class="m">0</span>.000    <span class="m">0</span>.000 actor.py:697<span class="o">(</span>__init__<span class="o">)</span>
...
<span class="m">1</span>    <span class="m">0</span>.000    <span class="m">0</span>.000    <span class="m">2</span>.525    <span class="m">2</span>.525 your_script_here.py:63<span class="o">(</span>ex4<span class="o">)</span>
...
<span class="m">9</span>    <span class="m">0</span>.000    <span class="m">0</span>.000    <span class="m">0</span>.000    <span class="m">0</span>.000 worker.py:2459<span class="o">(</span>__init__<span class="o">)</span>
<span class="m">1</span>    <span class="m">0</span>.000    <span class="m">0</span>.000    <span class="m">2</span>.509    <span class="m">2</span>.509 worker.py:2535<span class="o">(</span>get<span class="o">)</span>
<span class="m">9</span>    <span class="m">0</span>.000    <span class="m">0</span>.000    <span class="m">0</span>.000    <span class="m">0</span>.000 worker.py:2695<span class="o">(</span>get_global_worker<span class="o">)</span>
<span class="m">4</span>    <span class="m">0</span>.000    <span class="m">0</span>.000    <span class="m">2</span>.508    <span class="m">0</span>.627 worker.py:374<span class="o">(</span>retrieve_and_deserialize<span class="o">)</span>
<span class="m">1</span>    <span class="m">0</span>.000    <span class="m">0</span>.000    <span class="m">2</span>.509    <span class="m">2</span>.509 worker.py:424<span class="o">(</span>get_object<span class="o">)</span>
<span class="m">8</span>    <span class="m">0</span>.000    <span class="m">0</span>.000    <span class="m">0</span>.001    <span class="m">0</span>.000 worker.py:514<span class="o">(</span>submit_task<span class="o">)</span>
...
</pre></div>
</div>
<p>It turns out that the entire example still took 2.5 seconds to execute, or the
time for five calls to <code class="docutils literal notranslate"><span class="pre">actor_func()</span></code> to run in serial. If you recall <code class="docutils literal notranslate"><span class="pre">ex1</span></code>,
this behavior was because we did not wait until after submitting all five
remote function tasks to call <code class="docutils literal notranslate"><span class="pre">ray.get()</span></code>, but we can verify on cProfile’s
output line <code class="docutils literal notranslate"><span class="pre">worker.py:2535(get)</span></code> that <code class="docutils literal notranslate"><span class="pre">ray.get()</span></code> was only called once at
the end, for 2.509 seconds. What happened?</p>
<p>It turns out Ray cannot parallelize this example, because we have only
initialized a single <code class="docutils literal notranslate"><span class="pre">Sleeper</span></code> actor. Because each actor is a single,
stateful worker, our entire code is submitted and ran on a single worker the
whole time.</p>
<p>To better parallelize the actors in <code class="docutils literal notranslate"><span class="pre">ex4</span></code>, we can take advantage
that each call to <code class="docutils literal notranslate"><span class="pre">actor_func()</span></code> is independent, and instead
create five <code class="docutils literal notranslate"><span class="pre">Sleeper</span></code> actors. That way, we are creating five workers
that can run in parallel, instead of creating a single worker that
can only handle one call to <code class="docutils literal notranslate"><span class="pre">actor_func()</span></code> at a time.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">ex4</span><span class="p">():</span>
    <span class="c1"># Modified to create five separate Sleepers</span>
    <span class="n">five_actors</span> <span class="o">=</span> <span class="p">[</span><span class="n">Sleeper</span><span class="o">.</span><span class="n">remote</span><span class="p">()</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">)]</span>

    <span class="c1"># Each call to actor_func now goes to a different Sleeper</span>
    <span class="n">five_results</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">actor_example</span> <span class="ow">in</span> <span class="n">five_actors</span><span class="p">:</span>
        <span class="n">five_results</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">actor_example</span><span class="o">.</span><span class="n">actor_func</span><span class="o">.</span><span class="n">remote</span><span class="p">())</span>

    <span class="n">ray</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">five_results</span><span class="p">)</span>
</pre></div>
</div>
<p>Our example in total now takes only 1.5 seconds to run:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="m">1378</span> <span class="k">function</span> calls <span class="o">(</span><span class="m">1363</span> primitive calls<span class="o">)</span> <span class="k">in</span> <span class="m">1</span>.567 seconds

ncalls  tottime  percall  cumtime  percall filename:lineno<span class="o">(</span><span class="k">function</span><span class="o">)</span>
...
<span class="m">5</span>    <span class="m">0</span>.000    <span class="m">0</span>.000    <span class="m">0</span>.002    <span class="m">0</span>.000 actor.py:546<span class="o">(</span>remote<span class="o">)</span>
<span class="m">5</span>    <span class="m">0</span>.000    <span class="m">0</span>.000    <span class="m">0</span>.002    <span class="m">0</span>.000 actor.py:560<span class="o">(</span>_remote<span class="o">)</span>
<span class="m">5</span>    <span class="m">0</span>.000    <span class="m">0</span>.000    <span class="m">0</span>.000    <span class="m">0</span>.000 actor.py:697<span class="o">(</span>__init__<span class="o">)</span>
...
<span class="m">1</span>    <span class="m">0</span>.000    <span class="m">0</span>.000    <span class="m">1</span>.566    <span class="m">1</span>.566 your_script_here.py:71<span class="o">(</span>ex4<span class="o">)</span>
...
<span class="m">21</span>    <span class="m">0</span>.000    <span class="m">0</span>.000    <span class="m">0</span>.000    <span class="m">0</span>.000 worker.py:2459<span class="o">(</span>__init__<span class="o">)</span>
<span class="m">1</span>    <span class="m">0</span>.000    <span class="m">0</span>.000    <span class="m">1</span>.564    <span class="m">1</span>.564 worker.py:2535<span class="o">(</span>get<span class="o">)</span>
<span class="m">25</span>    <span class="m">0</span>.000    <span class="m">0</span>.000    <span class="m">0</span>.000    <span class="m">0</span>.000 worker.py:2695<span class="o">(</span>get_global_worker<span class="o">)</span>
<span class="m">3</span>    <span class="m">0</span>.000    <span class="m">0</span>.000    <span class="m">1</span>.564    <span class="m">0</span>.521 worker.py:374<span class="o">(</span>retrieve_and_deserialize<span class="o">)</span>
<span class="m">1</span>    <span class="m">0</span>.000    <span class="m">0</span>.000    <span class="m">1</span>.564    <span class="m">1</span>.564 worker.py:424<span class="o">(</span>get_object<span class="o">)</span>
<span class="m">20</span>    <span class="m">0</span>.001    <span class="m">0</span>.000    <span class="m">0</span>.001    <span class="m">0</span>.000 worker.py:514<span class="o">(</span>submit_task<span class="o">)</span>
...
</pre></div>
</div>
</section>
</section>
<section id="gpu-profiling">
<h2>GPU Profiling<a class="headerlink" href="optimize-performance.html#gpu-profiling" title="Permalink to this headline">#</a></h2>
<p>Ray doesn’t provide native integration with GPU profiling tools. Try running GPU profilers like <a class="reference external" href="https://pytorch.org/tutorials/recipes/recipes/profiler_recipe.html">Pytorch Profiler</a> without Ray to identify the issues.</p>
<p>If you have related feature requests, <a class="reference external" href="https://github.com/ray-project/ray/issues">let us know</a>.</p>
</section>
<section id="profiling-for-developers">
<h2>Profiling for Developers<a class="headerlink" href="optimize-performance.html#profiling-for-developers" title="Permalink to this headline">#</a></h2>
<p>If you are developing Ray Core or debugging some system level failures, profiling the Ray Core could help. In this case, see <a class="reference internal" href="../../../ray-contribute/profiling.html#ray-core-internal-profiling"><span class="std std-ref">Profiling for Ray developers</span></a>.</p>
</section>
</section>


              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="debug-failures.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Debugging Failures</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="ray-debugging.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Using the Ray Debugger</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By The Ray Team<br/>
  
      &copy; Copyright 2023, The Ray Team.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../../_static/scripts/pydata-sphinx-theme.js@digest=1999514e3f237ded88cf"></script>


  </body>
</html>