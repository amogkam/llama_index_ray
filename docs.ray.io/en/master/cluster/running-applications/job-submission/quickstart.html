
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Quickstart Using the Ray Jobs CLI &#8212; Ray 3.0.0.dev0</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../../../_static/styles/theme.css@digest=1999514e3f237ded88cf.css" rel="stylesheet">
<link href="../../../_static/styles/pydata-sphinx-theme.css@digest=1999514e3f237ded88cf.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
    <link rel="stylesheet" href="../../../_static/styles/sphinx-book-theme.css@digest=5115cc725059bd94278eecd172e13a965bf8f5a9.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/autodoc_pydantic.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/css/custom.css" />
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/css/termynal.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/tabs.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../_/static/css/badge_only.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../../_static/scripts/pydata-sphinx-theme.js@digest=1999514e3f237ded88cf">

    <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/clipboard.min.js"></script>
    <script src="../../../_static/copybutton.js"></script>
    <script src="../../../_static/js/versionwarning.js"></script>
    <script src="../../../_static/togglebutton.js"></script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
    <script defer="defer" src="../../../_static/js/docsearch.js"></script>
    <script src="../../../_static/js/rate-the-docs.es.min.js"></script>
    <script defer="defer" src="../../../_static/js/termynal.js"></script>
    <script defer="defer" src="../../../_static/js/custom.js"></script>
    <script defer="defer" src="../../../_static/js/top-navigation.js"></script>
    <script src="../../../_static/js/tags.js"></script>
    <script src="../../../_static/scripts/sphinx-book-theme.js@digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../../../_static/design-tabs.js"></script>
    <script async="async" src="../../../../../_/static/javascript/readthedocs-doc-embed.js"></script>
    <link rel="canonical" href="https://docs.ray.io/en/latest/cluster/running-applications/job-submission/quickstart.html" />
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Python SDK Overview" href="sdk.html" />
    <link rel="prev" title="Ray Jobs Overview" href="index.html" />

<!-- Fathom - beautiful, simple website analytics -->
<script src="https://deer.ray.io/script.js" data-site="WYYANYOS" defer></script>
<!-- / Fathom -->

<script async src="https://www.googletagmanager.com/gtag/js?id=UA-110413294-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-110413294-1');
</script>

<script
  src="https://widget.kapa.ai/kapa-widget.bundle.js"
  data-website-id="18a8c339-4ec5-43c8-8182-db3f2bc8c6b6"
  data-project-name="Ray"
  data-project-color="#2C2C2C"
  data-project-logo="https://global.discourse-cdn.com/business7/uploads/ray/original/1X/8f4dcb72f7cd34e2a332d548bd65860994bc8ff1.png"
></script>

<script>
(function(apiKey){
    (function(p,e,n,d,o){var v,w,x,y,z;o=p[d]=p[d]||{};o._q=o._q||[];
    v=['initialize','identify','updateOptions','pageLoad','track'];for(w=0,x=v.length;w<x;++w)(function(m){
        o[m]=o[m]||function(){o._q[m===v[0]?'unshift':'push']([m].concat([].slice.call(arguments,0)));};})(v[w]);
        y=e.createElement(n);y.async=!0;y.src='https://cdn.pendo.io/agent/static/'+apiKey+'/pendo.js';
        z=e.getElementsByTagName(n)[0];z.parentNode.insertBefore(y,z);})(window,document,'script','pendo');

        pendo.initialize({
            visitor: {
                id: 'VISITOR-UNIQUE-ID'
            },
            account: {
                id: 'ACCOUNT-UNIQUE-ID'
            }
        });
})('f89fa48a-6dd7-4d7c-67cf-a8051ed891f2');
</script>



  
<!-- RTD Extra Head -->

<link rel="stylesheet" href="../../../../../_/static/css/readthedocs-doc-embed.css" type="text/css" />

<script type="application/json" id="READTHEDOCS_DATA">{"ad_free": true, "api_host": "https://readthedocs.org", "builder": "sphinx", "canonical_url": null, "docroot": "/doc/source/", "features": {"docsearch_disabled": false}, "global_analytics_code": "UA-17997319-1", "language": "en", "page": "cluster/running-applications/job-submission/quickstart", "programming_language": "py", "project": "ray", "proxied_api_host": "/_", "source_suffix": ".rst", "subprojects": {}, "theme": "sphinx_book_theme", "user_analytics_code": "", "version": "master"}</script>

<!--
Using this variable directly instead of using `JSON.parse` is deprecated.
The READTHEDOCS_DATA global variable will be removed in the future.
-->
<script type="text/javascript">
READTHEDOCS_DATA = JSON.parse(document.getElementById('READTHEDOCS_DATA').innerHTML);
</script>

<script type="text/javascript" src="../../../../../_/static/javascript/readthedocs-analytics.js" async="async"></script>

<!-- end RTD <extrahead> -->
</head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"><div class='topnav'></div></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../../../index.html">
      
      
      
      <h1 class="site-logo" id="site-title">Ray 3.0.0.dev0</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main Navigation">
    <div class="bd-toc-item active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../../../index.html">
                    Welcome to Ray!
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Ray
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../../ray-overview/index.html">
   Overview
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../ray-overview/getting-started.html">
   Getting Started
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../ray-more-libs/installation.html">
   Installation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../ray-overview/use-cases.html">
   Use Cases
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../ray-overview/examples.html">
   Example Gallery
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../ray-overview/ray-libraries.html">
   Ecosystem
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../ray-core/walkthrough.html">
   Ray Core
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../ray-air/getting-started.html">
   Ray AI Runtime (AIR)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../data/data.html">
   Ray Data
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../train/train.html">
   Ray Train
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../tune.html">
   Ray Tune
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../serve/index.html">
   Ray Serve
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../rllib/index.html">
   Ray RLlib
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../ray-more-libs/index.html">
   More Libraries
  </a>
 </li>
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="../../../ray-core/cluster/index.html">
   Ray Clusters
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2">
    <a class="reference internal" href="../../key-concepts.html">
     Key Concepts
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../kubernetes/index.html">
     Deploying on Kubernetes
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../vms/index.html">
     Deploying on VMs
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../metrics.html">
     Collecting and monitoring metrics
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../configure-manage-dashboard.html">
     Configuring and Managing Ray Dashboard
    </a>
   </li>
   <li class="toctree-l2 current active has-children">
    <a class="reference internal" href="../index.html">
     Applications Guide
    </a>
    <input checked="" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
    <label for="toctree-checkbox-2">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul class="current">
     <li class="toctree-l3 current active has-children">
      <a class="reference internal" href="index.html">
       Ray Jobs Overview
      </a>
      <input checked="" class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
      <label for="toctree-checkbox-3">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul class="current">
       <li class="toctree-l4 current active">
        <a class="current reference internal" href="quickstart.html#">
         Quickstart Using the Ray Jobs CLI
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="sdk.html">
         Python SDK Overview
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="jobs-package-ref.html">
         Python SDK API Reference
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="cli.html">
         Ray Jobs CLI API Reference
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="rest.html">
         Ray Jobs REST API
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="ray-client.html">
         Ray Client: Interactive Development
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../autoscaling/reference.html">
       Programmatic Cluster Scaling
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../faq.html">
     FAQ
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../package-overview.html">
     Ray Cluster Management API
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../ray-observability/index.html">
   Monitoring and Debugging
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../ray-references/api.html">
   References
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../ray-contribute/stability.html">
   Developer Guides
  </a>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Theme by the <a href="https://ebp.jupyterbook.org">Executable Book Project</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-repository-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Source repositories">
      <i class="fab fa-github"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://github.com/ray-project/ray"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Source repository"
>
  

<span class="headerbtn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="headerbtn__text-container">repository</span>
</a>

      </li>
      
      <li>
        <a href="https://github.com/ray-project/ray/issues/new?title=Issue%20on%20page%20%2Fcluster/running-applications/job-submission/quickstart.html&body=Your%20issue%20content%20here."
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Open an issue"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="headerbtn__text-container">open issue</span>
</a>

      </li>
      
      <li>
        <a href="https://github.com/ray-project/ray/edit/master/doc/source/cluster/running-applications/job-submission/quickstart.rst"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Edit this page"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-pencil-alt"></i>
  </span>
<span class="headerbtn__text-container">suggest edit</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="../../../_sources/cluster/running-applications/job-submission/quickstart.rst.txt"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.rst</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="quickstart.html#setup">
   Setup
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="quickstart.html#submitting-a-job">
   Submitting a job
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="quickstart.html#interacting-with-long-running-jobs">
   Interacting with Long-running Jobs
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="quickstart.html#using-a-remote-cluster">
   Using a Remote Cluster
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="quickstart.html#using-the-cli-on-kubernetes">
     Using the CLI on Kubernetes
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="quickstart.html#dependency-management">
   Dependency Management
  </a>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Quickstart Using the Ray Jobs CLI</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="quickstart.html#setup">
   Setup
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="quickstart.html#submitting-a-job">
   Submitting a job
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="quickstart.html#interacting-with-long-running-jobs">
   Interacting with Long-running Jobs
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="quickstart.html#using-a-remote-cluster">
   Using a Remote Cluster
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="quickstart.html#using-the-cli-on-kubernetes">
     Using the CLI on Kubernetes
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="quickstart.html#dependency-management">
   Dependency Management
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section id="quickstart-using-the-ray-jobs-cli">
<span id="jobs-quickstart"></span><h1>Quickstart Using the Ray Jobs CLI<a class="headerlink" href="quickstart.html#quickstart-using-the-ray-jobs-cli" title="Permalink to this headline">#</a></h1>
<p>In this guide, we will walk through the Ray Jobs CLI commands available for submitting and interacting with a Ray Job.</p>
<p>To use the Jobs API programmatically via a Python SDK instead of a CLI, see <a class="reference internal" href="sdk.html#ray-job-sdk"><span class="std std-ref">Python SDK Overview</span></a>.</p>
<section id="setup">
<h2>Setup<a class="headerlink" href="quickstart.html#setup" title="Permalink to this headline">#</a></h2>
<p>Ray Jobs is available in versions 1.9+ and requires a full installation of Ray. You can do this by running:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>pip install <span class="s2">&quot;ray[default]&quot;</span>
</pre></div>
</div>
<p>See the <a class="reference internal" href="../../../ray-more-libs/installation.html#installation"><span class="std std-ref">installation guide</span></a> for more details on installing Ray.</p>
<p>To submit a job, we also need to be able to send HTTP requests to a Ray Cluster.
For convenience, this guide will assume that you are using a local Ray Cluster, which we can start by running:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>ray start --head
<span class="c1"># ...</span>
<span class="c1"># 2022-08-10 09:54:57,664   INFO services.py:1476 -- View the Ray dashboard at http://127.0.0.1:8265</span>
<span class="c1"># ...</span>
</pre></div>
</div>
<p>This will create a Ray head node on our local machine that we can use for development purposes.
Note the Ray Dashboard URL that is printed when starting or connecting to a Ray Cluster; we will use this URL later to submit a job.
For more details on production deployment scenarios, check out the guides for deploying Ray on <a class="reference internal" href="../../vms/getting-started.html#vm-cluster-quick-start"><span class="std std-ref">VMs</span></a> and <a class="reference internal" href="../../kubernetes/getting-started.html#kuberay-quickstart"><span class="std std-ref">Kubernetes</span></a>.</p>
</section>
<section id="submitting-a-job">
<h2>Submitting a job<a class="headerlink" href="quickstart.html#submitting-a-job" title="Permalink to this headline">#</a></h2>
<p>Let’s start with a sample script that can be run locally. The following script uses Ray APIs to submit a task and print its return value:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># script.py</span>
<span class="kn">import</span> <span class="nn">ray</span>

<span class="nd">@ray</span><span class="o">.</span><span class="n">remote</span>
<span class="k">def</span> <span class="nf">hello_world</span><span class="p">():</span>
    <span class="k">return</span> <span class="s2">&quot;hello world&quot;</span>

<span class="c1"># Automatically connect to the running Ray cluster.</span>
<span class="n">ray</span><span class="o">.</span><span class="n">init</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ray</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">hello_world</span><span class="o">.</span><span class="n">remote</span><span class="p">()))</span>
</pre></div>
</div>
<p>Create an empty working directory with the above Python script inside a file named <code class="docutils literal notranslate"><span class="pre">script.py</span></code>.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="p">|</span> your_working_directory
<span class="p">|</span> ├── script.py
</pre></div>
</div>
<p>Next, we will find the HTTP address of the Ray Cluster to which we can submit a job request.
Jobs are submitted to the same address used by the <strong>Ray Dashboard</strong>.
By default, this uses port 8265.</p>
<p>If you are using a local Ray Cluster (<code class="docutils literal notranslate"><span class="pre">ray</span> <span class="pre">start</span> <span class="pre">--head</span></code>), you can connect directly at <code class="docutils literal notranslate"><span class="pre">http://127.0.0.1:8265</span></code>.
If you are using a Ray Cluster started on VMs or Kubernetes, you can follow the instructions there for setting up network access from a client. See <a class="reference internal" href="quickstart.html#jobs-remote-cluster"><span class="std std-ref">Using a Remote Cluster</span></a> for tips.</p>
<p>To tell the Ray Jobs CLI how to find your Ray Cluster, we will pass the Ray Dashboard address. This can be done by setting the <code class="docutils literal notranslate"><span class="pre">RAY_ADDRESS</span></code> environment variable:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ <span class="nb">export</span> <span class="nv">RAY_ADDRESS</span><span class="o">=</span><span class="s2">&quot;http://127.0.0.1:8265&quot;</span>
</pre></div>
</div>
<p>Alternatively, you can also pass the <code class="docutils literal notranslate"><span class="pre">--address=http://127.0.0.1:8265</span></code> flag explicitly to each Ray Jobs CLI command, or prepend each command with <code class="docutils literal notranslate"><span class="pre">RAY_ADDRESS=http://127.0.0.1:8265</span></code>.</p>
<p>To submit the job, we use <code class="docutils literal notranslate"><span class="pre">ray</span> <span class="pre">job</span> <span class="pre">submit</span></code>.
Make sure to specify the path to the working directory in the <code class="docutils literal notranslate"><span class="pre">--working-dir</span></code> argument.
(For local clusters this is not strictly necessary, but for remote clusters this is required in order to upload the working directory to the cluster.)</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ ray job submit --working-dir your_working_directory -- python script.py

<span class="c1"># Job submission server address: http://127.0.0.1:8265</span>

<span class="c1"># -------------------------------------------------------</span>
<span class="c1"># Job &#39;raysubmit_inB2ViQuE29aZRJ5&#39; submitted successfully</span>
<span class="c1"># -------------------------------------------------------</span>

<span class="c1"># Next steps</span>
<span class="c1">#   Query the logs of the job:</span>
<span class="c1">#     ray job logs raysubmit_inB2ViQuE29aZRJ5</span>
<span class="c1">#   Query the status of the job:</span>
<span class="c1">#     ray job status raysubmit_inB2ViQuE29aZRJ5</span>
<span class="c1">#   Request the job to be stopped:</span>
<span class="c1">#     ray job stop raysubmit_inB2ViQuE29aZRJ5</span>

<span class="c1"># Tailing logs until the job exits (disable with --no-wait):</span>
<span class="c1"># hello world</span>

<span class="c1"># ------------------------------------------</span>
<span class="c1"># Job &#39;raysubmit_inB2ViQuE29aZRJ5&#39; succeeded</span>
<span class="c1"># ------------------------------------------</span>
</pre></div>
</div>
<p>This command will run the script on the Ray Cluster and wait until the job has finished. Note that it also streams the stdout of the job back to the client (<code class="docutils literal notranslate"><span class="pre">hello</span> <span class="pre">world</span></code> in this case). Ray will also make the contents of the directory passed as <code class="xref py py-obj docutils literal notranslate"><span class="pre">--working-dir</span></code> available to the Ray job by downloading the directory to all nodes in your cluster.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The double dash (<code class="xref py py-obj docutils literal notranslate"><span class="pre">--</span></code>) separates the arguments for the entrypoint command (e.g. <code class="xref py py-obj docutils literal notranslate"><span class="pre">python</span> <span class="pre">script.py</span> <span class="pre">--arg1=val1</span></code>) from the arguments to <code class="xref py py-obj docutils literal notranslate"><span class="pre">ray</span> <span class="pre">job</span> <span class="pre">submit</span></code>.</p>
</div>
</section>
<section id="interacting-with-long-running-jobs">
<h2>Interacting with Long-running Jobs<a class="headerlink" href="quickstart.html#interacting-with-long-running-jobs" title="Permalink to this headline">#</a></h2>
<p>For long-running applications, it is not desirable to require the client to wait for the job to finish.
To do this, we can pass the <code class="docutils literal notranslate"><span class="pre">--no-wait</span></code> flag to <code class="docutils literal notranslate"><span class="pre">ray</span> <span class="pre">job</span> <span class="pre">submit</span></code> and use the other CLI commands to check on the job’s status.
Let’s try this out with a modified script that submits a task every second in an infinite loop:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># script.py</span>
<span class="kn">import</span> <span class="nn">ray</span>
<span class="kn">import</span> <span class="nn">time</span>

<span class="nd">@ray</span><span class="o">.</span><span class="n">remote</span>
<span class="k">def</span> <span class="nf">hello_world</span><span class="p">():</span>
    <span class="k">return</span> <span class="s2">&quot;hello world&quot;</span>

<span class="n">ray</span><span class="o">.</span><span class="n">init</span><span class="p">()</span>
<span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">ray</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">hello_world</span><span class="o">.</span><span class="n">remote</span><span class="p">()))</span>
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<p>Now let’s submit the job:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$ ray job submit --no-wait --working-dir your_working_directory -- python script.py
<span class="c1"># Job submission server address: http://127.0.0.1:8265</span>

<span class="c1"># -------------------------------------------------------</span>
<span class="c1"># Job &#39;raysubmit_tUAuCKubPAEXh6CW&#39; submitted successfully</span>
<span class="c1"># -------------------------------------------------------</span>

<span class="c1"># Next steps</span>
<span class="c1">#   Query the logs of the job:</span>
<span class="c1">#       ray job logs raysubmit_tUAuCKubPAEXh6CW</span>
<span class="c1">#   Query the status of the job:</span>
<span class="c1">#       ray job status raysubmit_tUAuCKubPAEXh6CW</span>
<span class="c1">#   Request the job to be stopped:</span>
<span class="c1">#       ray job stop raysubmit_tUAuCKubPAEXh6CW</span>
</pre></div>
</div>
<p>We can later get the stdout using the provided <code class="docutils literal notranslate"><span class="pre">ray</span> <span class="pre">job</span> <span class="pre">logs</span></code> command:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$ ray job logs raysubmit_tUAuCKubPAEXh6CW
<span class="c1"># Job submission server address: http://127.0.0.1:8265</span>
<span class="c1"># hello world</span>
<span class="c1"># hello world</span>
<span class="c1"># hello world</span>
<span class="c1"># hello world</span>
<span class="c1"># hello world</span>
</pre></div>
</div>
<p>And the current status of the job using <code class="docutils literal notranslate"><span class="pre">ray</span> <span class="pre">job</span> <span class="pre">status</span></code>:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$ ray job status raysubmit_tUAuCKubPAEXh6CW
<span class="c1"># Job submission server address: http://127.0.0.1:8265</span>
<span class="c1"># Status for job &#39;raysubmit_tUAuCKubPAEXh6CW&#39;: RUNNING</span>
<span class="c1"># Status message: Job is currently running.</span>
</pre></div>
</div>
<p>Finally, if we want to cancel the job, we can use <code class="docutils literal notranslate"><span class="pre">ray</span> <span class="pre">job</span> <span class="pre">stop</span></code>:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$ ray job stop raysubmit_tUAuCKubPAEXh6CW
<span class="c1"># Job submission server address: http://127.0.0.1:8265</span>
<span class="c1"># Attempting to stop job raysubmit_tUAuCKubPAEXh6CW</span>
<span class="c1"># Waiting for job &#39;raysubmit_tUAuCKubPAEXh6CW&#39; to exit (disable with --no-wait):</span>
<span class="c1"># Job &#39;raysubmit_tUAuCKubPAEXh6CW&#39; was stopped</span>

$ ray job status raysubmit_tUAuCKubPAEXh6CW
<span class="c1"># Job submission server address: http://127.0.0.1:8265</span>
<span class="c1"># Job &#39;raysubmit_tUAuCKubPAEXh6CW&#39; was stopped</span>
</pre></div>
</div>
</section>
<section id="using-a-remote-cluster">
<span id="jobs-remote-cluster"></span><h2>Using a Remote Cluster<a class="headerlink" href="quickstart.html#using-a-remote-cluster" title="Permalink to this headline">#</a></h2>
<p>The example above was for a local Ray cluster.  When connecting to a <code class="xref py py-obj docutils literal notranslate"><span class="pre">remote</span></code> cluster, you need to be able to access the dashboard port of the cluster over HTTP.</p>
<p>One way to do this is to port forward <code class="docutils literal notranslate"><span class="pre">127.0.0.1:8265</span></code> on your local machine to <code class="docutils literal notranslate"><span class="pre">127.0.0.1:8265</span></code> on the head node. If you started your remote cluster with the <a class="reference internal" href="../../../ray-core/cluster/index.html#cluster-index"><span class="std std-ref">Ray Cluster Launcher</span></a>, then the port forwarding can be set up automatically using the <code class="docutils literal notranslate"><span class="pre">ray</span> <span class="pre">dashboard</span></code> command (see <a class="reference internal" href="../../vms/references/ray-cluster-cli.html#monitor-cluster"><span class="std std-ref">Monitoring cluster status (ray dashboard/status)</span></a> for details).</p>
<p>To use this, run the following command on your local machine, where <code class="docutils literal notranslate"><span class="pre">cluster.yaml</span></code> is the configuration file you used to launch your cluster:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ray dashboard cluster.yaml
</pre></div>
</div>
<p>Once this is running, check that you can view the Ray Dashboard in your local browser at <code class="docutils literal notranslate"><span class="pre">http://127.0.0.1:8265</span></code>.
Once you have verified this and you have set the environment variable <code class="docutils literal notranslate"><span class="pre">RAY_ADDRESS</span></code> to <code class="docutils literal notranslate"><span class="pre">&quot;http://127.0.0.1:8265&quot;</span></code>, you will be able to use the Jobs CLI on your local machine as in the example above to interact with your remote Ray cluster.</p>
<section id="using-the-cli-on-kubernetes">
<h3>Using the CLI on Kubernetes<a class="headerlink" href="quickstart.html#using-the-cli-on-kubernetes" title="Permalink to this headline">#</a></h3>
<p>The instructions above still apply, but you can achieve the dashboard port forwarding using <code class="docutils literal notranslate"><span class="pre">kubectl</span> <span class="pre">port-forward</span></code>:
<a class="reference external" href="https://kubernetes.io/docs/tasks/access-application-cluster/port-forward-access-application-cluster/">https://kubernetes.io/docs/tasks/access-application-cluster/port-forward-access-application-cluster/</a></p>
<p>Alternatively, you can set up Ingress to the dashboard port of the cluster over HTTP: <a class="reference external" href="https://kubernetes.io/docs/concepts/services-networking/ingress/">https://kubernetes.io/docs/concepts/services-networking/ingress/</a></p>
</section>
</section>
<section id="dependency-management">
<h2>Dependency Management<a class="headerlink" href="quickstart.html#dependency-management" title="Permalink to this headline">#</a></h2>
<p>To run a distributed application, we need to make sure that all workers run in the same environment.
This can be challenging if multiple applications in the same Ray Cluster have different and conflicting dependencies.</p>
<p>To avoid dependency conflicts, Ray provides a mechanism called <a class="reference internal" href="../../../ray-core/handling-dependencies.html#runtime-environments"><span class="std std-ref">runtime environments</span></a>. Runtime environments allow an application to override the default environment on the Ray Cluster and run in an isolated environment, similar to virtual environments in single-node Python. Dependencies can include both files and Python packages.</p>
<p>The Ray Jobs API provides an option to specify the runtime environment when submitting a job. On the Ray Cluster, Ray will then install the runtime environment across the workers and ensure that tasks in that job run in the same environment. To see how this works, we’ll use a Python script that prints the current version of the <code class="docutils literal notranslate"><span class="pre">requests</span></code> module in a Ray task.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">ray</span>
<span class="kn">import</span> <span class="nn">requests</span>

<span class="nd">@ray</span><span class="o">.</span><span class="n">remote</span>
<span class="k">def</span> <span class="nf">get_requests_version</span><span class="p">():</span>
    <span class="k">return</span> <span class="n">requests</span><span class="o">.</span><span class="n">__version__</span>

<span class="c1"># Note: No need to specify the runtime_env in ray.init() in the driver script.</span>
<span class="n">ray</span><span class="o">.</span><span class="n">init</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;requests version:&quot;</span><span class="p">,</span> <span class="n">ray</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">get_requests_version</span><span class="o">.</span><span class="n">remote</span><span class="p">()))</span>
</pre></div>
</div>
<p>First, let’s submit this job using the default environment. This is the environment in which the Ray Cluster was started.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ ray job submit -- python script.py
<span class="c1"># Job submission server address: http://127.0.0.1:8265</span>
<span class="c1">#</span>
<span class="c1"># -------------------------------------------------------</span>
<span class="c1"># Job &#39;raysubmit_seQk3L4nYWcUBwXD&#39; submitted successfully</span>
<span class="c1"># -------------------------------------------------------</span>
<span class="c1">#</span>
<span class="c1"># Next steps</span>
<span class="c1">#   Query the logs of the job:</span>
<span class="c1">#     ray job logs raysubmit_seQk3L4nYWcUBwXD</span>
<span class="c1">#   Query the status of the job:</span>
<span class="c1">#     ray job status raysubmit_seQk3L4nYWcUBwXD</span>
<span class="c1">#   Request the job to be stopped:</span>
<span class="c1">#     ray job stop raysubmit_seQk3L4nYWcUBwXD</span>
<span class="c1">#</span>
<span class="c1"># Tailing logs until the job exits (disable with --no-wait):</span>
<span class="c1"># requests version: 2.28.1</span>
<span class="c1">#</span>
<span class="c1"># ------------------------------------------</span>
<span class="c1"># Job &#39;raysubmit_seQk3L4nYWcUBwXD&#39; succeeded</span>
<span class="c1"># ------------------------------------------</span>
</pre></div>
</div>
<p>Now let’s try it with a runtime environment that pins the version of the <code class="docutils literal notranslate"><span class="pre">requests</span></code> module:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ ray job submit --runtime-env-json<span class="o">=</span><span class="s1">&#39;{&quot;pip&quot;: [&quot;requests==2.26.0&quot;]}&#39;</span> -- python script.py
<span class="c1"># Job submission server address: http://127.0.0.1:8265</span>

<span class="c1"># -------------------------------------------------------</span>
<span class="c1"># Job &#39;raysubmit_vGGV4MiP9rYkYUnb&#39; submitted successfully</span>
<span class="c1"># -------------------------------------------------------</span>

<span class="c1"># Next steps</span>
<span class="c1">#   Query the logs of the job:</span>
<span class="c1">#     ray job logs raysubmit_vGGV4MiP9rYkYUnb</span>
<span class="c1">#   Query the status of the job:</span>
<span class="c1">#     ray job status raysubmit_vGGV4MiP9rYkYUnb</span>
<span class="c1">#   Request the job to be stopped:</span>
<span class="c1">#     ray job stop raysubmit_vGGV4MiP9rYkYUnb</span>

<span class="c1"># Tailing logs until the job exits (disable with --no-wait):</span>
<span class="c1"># requests version: 2.26.0</span>

<span class="c1"># ------------------------------------------</span>
<span class="c1"># Job &#39;raysubmit_vGGV4MiP9rYkYUnb&#39; succeeded</span>
<span class="c1"># ------------------------------------------</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>When using the Ray Jobs API, the runtime environment should be specified only in the Jobs API (e.g. in <code class="xref py py-obj docutils literal notranslate"><span class="pre">ray</span> <span class="pre">job</span> <span class="pre">submit</span> <span class="pre">--runtime-env=...</span></code> or <code class="xref py py-obj docutils literal notranslate"><span class="pre">JobSubmissionClient.submit_job(runtime_env=...)</span></code>), not via <code class="xref py py-obj docutils literal notranslate"><span class="pre">ray.init(runtime_env=...)</span></code> in the driver script.</p>
</div>
<ul class="simple">
<li><p>The full API reference for the Ray Jobs CLI can be found <a class="reference internal" href="cli.html#ray-job-submission-cli-ref"><span class="std std-ref">here</span></a>.</p></li>
<li><p>The full API reference for the Ray Jobs SDK can be found <a class="reference internal" href="jobs-package-ref.html#ray-job-submission-sdk-ref"><span class="std std-ref">here</span></a>.</p></li>
<li><p>For more information, check out the guides for <a class="reference internal" href="sdk.html#ray-job-sdk"><span class="std std-ref">programmatic job submission</span></a> and <a class="reference internal" href="rest.html#ray-job-rest-api"><span class="std std-ref">job submission using REST</span></a>.</p></li>
</ul>
</section>
</section>


              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="index.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Ray Jobs Overview</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="sdk.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Python SDK Overview</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By The Ray Team<br/>
  
      &copy; Copyright 2023, The Ray Team.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../../_static/scripts/pydata-sphinx-theme.js@digest=1999514e3f237ded88cf"></script>


  </body>
</html>